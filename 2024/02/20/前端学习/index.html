

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#bbe8e8">
  <meta name="author" content="XieHongchen">
  <meta name="keywords" content="">
  
    <meta name="description" content="å‰ç«¯å­¦ä¹ ">
<meta property="og:type" content="article">
<meta property="og:title" content="å‰ç«¯å­¦ä¹ ">
<meta property="og:url" content="https://xiehongchen.github.io/2024/02/20/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="å‰ç«¯å­¦ä¹ ">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://xiehongchen.github.io/Users/mac/Desktop/test/TestCase/%E7%AC%94%E8%AE%B0/image/test.png">
<meta property="article:published_time" content="2024-02-20T13:42:38.000Z">
<meta property="article:modified_time" content="2024-02-20T13:42:59.362Z">
<meta property="article:author" content="XieHongchen">
<meta property="article:tag" content="å‰ç«¯">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://xiehongchen.github.io/Users/mac/Desktop/test/TestCase/%E7%AC%94%E8%AE%B0/image/test.png">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>å‰ç«¯å­¦ä¹  - Hexo</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"xiehongchen.github.io","root":"/","version":"1.9.4","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"left","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Fluid</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                <span>é¦–é¡µ</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                <span>å½’æ¡£</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                <span>åˆ†ç±»</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                <span>æ ‡ç­¾</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                <span>å…³äº</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/preview.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="å‰ç«¯å­¦ä¹ "></span>
          
        </div>

        
          
  <div class="mt-3">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-author" aria-hidden="true"></i>
        XieHongchen
      </span>
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2024-02-20 21:42" pubdate>
          2024å¹´2æœˆ20æ—¥ æ™šä¸Š
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          19k å­—
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          157 åˆ†é’Ÿ
        
      </span>
    

    
    
      
        <span id="busuanzi_container_page_pv" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="busuanzi_value_page_pv"></span> æ¬¡
        </span>
        
      
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="padding-left: 2rem; margin-right: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>ç›®å½•</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">å‰ç«¯å­¦ä¹ </h1>
            
            
              <div class="markdown-body">
                
                <h1 id="undifinedã€ReferenceError"><a href="#undifinedã€ReferenceError" class="headerlink" title="undifinedã€ReferenceError"></a>undifinedã€ReferenceError</h1><h1 id="å‰ç«¯è·¯ç”±å®ç°æ–¹å¼"><a href="#å‰ç«¯è·¯ç”±å®ç°æ–¹å¼" class="headerlink" title="å‰ç«¯è·¯ç”±å®ç°æ–¹å¼"></a>å‰ç«¯è·¯ç”±å®ç°æ–¹å¼</h1><h3 id="history"><a href="#history" class="headerlink" title="history"></a>history</h3><p>æˆ‘ä»¬éƒ½çŸ¥é“ä¸€ä¸ªURLæ˜¯ç”±å¾ˆå¤šéƒ¨åˆ†ç»„æˆï¼ŒåŒ…æ‹¬åè®®ã€åŸŸåã€è·¯å¾„ã€queryã€hashç­‰ï¼Œæ¯”å¦‚ä¸Šé¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬ç‚¹å‡»ä¸åŒæ¨¡å—çš„æ—¶å€™å¯èƒ½çœ‹åˆ°æ˜¯è¿™æ ·çš„URL</p>
<ul>
<li>é¦–é¡µï¼šyourdomain.xxx.com&#x2F;index.html&#x2F;#&#x2F;</li>
<li>å•†åŸï¼šyourdomain.xxx.com&#x2F;index.html&#x2F;#&#x2F;shop</li>
<li>è´­ç‰©è½¦ï¼šyourdomain.xxx.com&#x2F;index.html&#x2F;#&#x2F;shopping-cart</li>
<li>æˆ‘çš„ï¼šyourdomain.xxx.com&#x2F;index.html&#x2F;#&#x2F;mine</li>
</ul>
<p>#å·åé¢çš„ï¼Œå°±æ˜¯ä¸€ä¸ªURLä¸­å…³äºhashçš„ç»„æˆéƒ¨åˆ†ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œä¸åŒè·¯ç”±å¯¹åº”çš„hashæ˜¯ä¸ä¸€æ ·çš„ï¼Œä½†æ˜¯å®ƒä»¬éƒ½æ˜¯åœ¨è®¿é—®åŒä¸€ä¸ªé™æ€èµ„æºindex.htmlã€‚æˆ‘ä»¬è¦åšçš„ï¼Œå°±æ˜¯å¦‚ä½•èƒ½å¤Ÿç›‘å¬åˆ°URLä¸­å…³äºhashéƒ¨åˆ†å‘ç”Ÿçš„å˜åŒ–ï¼Œä»è€Œåšå‡ºå¯¹åº”çš„æ”¹å˜ã€‚</p>
<p>å…¶å®æµè§ˆå™¨å·²ç»æš´éœ²ç»™æˆ‘ä»¬ä¸€ä¸ªç°æˆçš„æ–¹æ³•<code>hashchange</code>ï¼Œåœ¨hashæ”¹å˜çš„æ—¶å€™ï¼Œè§¦å‘è¯¥äº‹ä»¶ã€‚æœ‰äº†ç›‘å¬äº‹ä»¶ï¼Œä¸”æ”¹å˜hashé¡µé¢å¹¶ä¸åˆ·æ–°ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨ç›‘å¬äº‹ä»¶çš„å›è°ƒå‡½æ•°ä¸­ï¼Œæ‰§è¡Œæˆ‘ä»¬å±•ç¤ºå’Œéšè—ä¸åŒUIæ˜¾ç¤ºçš„åŠŸèƒ½ï¼Œä»è€Œå®ç°å‰ç«¯è·¯ç”±ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span></span><br><span class="hljs-tag">      <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span></span><br><span class="hljs-tag">    /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>å®ç°ç®€å•çš„hashè·¯ç”±<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">      * &#123;</span><br><span class="language-css">        <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">        <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">        <span class="hljs-attribute">box-sizing</span>: border-box;</span><br><span class="language-css">      &#125;</span><br><span class="language-css">      <span class="hljs-selector-tag">html</span>,</span><br><span class="language-css">      <span class="hljs-selector-tag">body</span> &#123;</span><br><span class="language-css">        <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;</span><br><span class="language-css">      &#125;</span><br><span class="language-css">      <span class="hljs-selector-id">#content</span> &#123;</span><br><span class="language-css">        <span class="hljs-attribute">height</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">100vh</span> - <span class="hljs-number">50px</span>);</span><br><span class="language-css">        <span class="hljs-attribute">display</span>: flex;</span><br><span class="language-css">        <span class="hljs-attribute">align-items</span>: center;</span><br><span class="language-css">        <span class="hljs-attribute">justify-content</span>: center;</span><br><span class="language-css">        <span class="hljs-attribute">font-size</span>: <span class="hljs-number">3em</span>;</span><br><span class="language-css">      &#125;</span><br><span class="language-css">      <span class="hljs-selector-id">#nav</span> &#123;</span><br><span class="language-css">        <span class="hljs-attribute">height</span>: <span class="hljs-number">50px</span>;</span><br><span class="language-css">        <span class="hljs-attribute">position</span>: fixed;</span><br><span class="language-css">        <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">        <span class="hljs-attribute">bottom</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">        <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</span><br><span class="language-css">        <span class="hljs-attribute">display</span>: flex;</span><br><span class="language-css">      &#125;</span><br><span class="language-css">      <span class="hljs-selector-id">#nav</span> <span class="hljs-selector-tag">a</span> &#123;</span><br><span class="language-css">        <span class="hljs-attribute">width</span>: <span class="hljs-number">25%</span>;</span><br><span class="language-css">        <span class="hljs-attribute">display</span>: flex;</span><br><span class="language-css">        <span class="hljs-attribute">justify-content</span>: center;</span><br><span class="language-css">        <span class="hljs-attribute">align-items</span>: center;</span><br><span class="language-css">        <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid black;</span><br><span class="language-css">      &#125;</span><br><span class="language-css">      <span class="hljs-selector-id">#nav</span> <span class="hljs-selector-tag">a</span><span class="hljs-selector-pseudo">:not</span>(<span class="hljs-selector-pseudo">:last-of-type</span>) &#123;</span><br><span class="language-css">        <span class="hljs-attribute">border-right</span>: none;</span><br><span class="language-css">      &#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">main</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;content&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">main</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">nav</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;nav&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;#/&quot;</span>&gt;</span>é¦–é¡µ<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;#/shop&quot;</span>&gt;</span>å•†åŸ<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;#/shopping-cart&quot;</span>&gt;</span>è´­ç‰©è½¦<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;#/mine&quot;</span>&gt;</span>æˆ‘çš„<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-keyword">class</span> <span class="hljs-title class_">VueRouter</span> &#123;</span><br><span class="language-javascript">      <span class="hljs-title function_">constructor</span>(<span class="hljs-params">routes = []</span>) &#123;</span><br><span class="language-javascript">        <span class="hljs-variable language_">this</span>.<span class="hljs-property">routes</span> = routes; <span class="hljs-comment">// è·¯ç”±æ˜ å°„</span></span><br><span class="language-javascript">        <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentHash</span> = <span class="hljs-string">&quot;&quot;</span>; <span class="hljs-comment">// å½“å‰çš„hash</span></span><br><span class="language-javascript">        <span class="hljs-variable language_">this</span>.<span class="hljs-property">refresh</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">refresh</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>);</span><br><span class="language-javascript">        <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;load&quot;</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">refresh</span>, <span class="hljs-literal">false</span>);</span><br><span class="language-javascript">        <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;hashchange&quot;</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">refresh</span>, <span class="hljs-literal">false</span>);</span><br><span class="language-javascript">      &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-title function_">getUrlPath</span>(<span class="hljs-params">url</span>) &#123;</span><br><span class="language-javascript">        <span class="hljs-comment">// è·å–hash</span></span><br><span class="language-javascript">        <span class="hljs-keyword">return</span> url.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">&quot;#&quot;</span>) &gt;= <span class="hljs-number">0</span> ? url.<span class="hljs-title function_">slice</span>(url.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">&quot;#&quot;</span>) + <span class="hljs-number">1</span>) : <span class="hljs-string">&quot;/&quot;</span>;</span><br><span class="language-javascript">      &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-title function_">refresh</span>(<span class="hljs-params">event</span>) &#123;</span><br><span class="language-javascript">        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(event);</span><br><span class="language-javascript">        <span class="hljs-comment">// URL hashå‘ç”Ÿæ”¹å˜çš„æ—¶å€™ï¼Œæ‹¿åˆ°å½“å‰çš„hash</span></span><br><span class="language-javascript">        <span class="hljs-keyword">let</span> newHash = <span class="hljs-string">&quot;&quot;</span>,</span><br><span class="language-javascript">          oldHash = <span class="hljs-literal">null</span>;</span><br><span class="language-javascript">        <span class="hljs-keyword">if</span> (event.<span class="hljs-property">newURL</span>) &#123;</span><br><span class="language-javascript">          oldHash = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUrlPath</span>(event.<span class="hljs-property">oldURL</span> || <span class="hljs-string">&quot;&quot;</span>);</span><br><span class="language-javascript">          newHash = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUrlPath</span>(event.<span class="hljs-property">newURL</span> || <span class="hljs-string">&quot;&quot;</span>);</span><br><span class="language-javascript">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="language-javascript">          newHash = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUrlPath</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">hash</span>);</span><br><span class="language-javascript">          <span class="hljs-variable language_">window</span>.<span class="hljs-property">history</span>.<span class="hljs-property">hash</span> = <span class="hljs-string">&quot;#/&quot;</span>;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentHash</span> = newHash;</span><br><span class="language-javascript">        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">matchComponent</span>();</span><br><span class="language-javascript">      &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-title function_">matchComponent</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">        <span class="hljs-keyword">let</span> curRoute = <span class="hljs-variable language_">this</span>.<span class="hljs-property">routes</span>.<span class="hljs-title function_">find</span>(</span><br><span class="language-javascript">          <span class="hljs-function">(<span class="hljs-params">route</span>) =&gt;</span> route.<span class="hljs-property">path</span> === <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentHash</span></span><br><span class="language-javascript">        );</span><br><span class="language-javascript">        <span class="hljs-keyword">if</span> (!curRoute) &#123;</span><br><span class="language-javascript">          <span class="hljs-comment">// å½“å‰URLä¸­çš„hashä¸å­˜åœ¨çš„æ—¶å€™ï¼Œé»˜è®¤å–ç¬¬ä¸€ä¸ªï¼Œå½“ç„¶çœŸå®åœºæ™¯ä¸‹ï¼Œå¯èƒ½ä¼šæœ‰å„ç§æƒ…å†µï¼Œå–å†³äºä¸šåŠ¡é€»è¾‘</span></span><br><span class="language-javascript">          curRoute = <span class="hljs-variable language_">this</span>.<span class="hljs-property">routes</span>.<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">route</span>) =&gt;</span> route.<span class="hljs-property">path</span> === <span class="hljs-string">&quot;/&quot;</span>);</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-keyword">const</span> &#123; component &#125; = curRoute;</span><br><span class="language-javascript">        <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;#content&quot;</span>).<span class="hljs-property">innerHTML</span> = component;</span><br><span class="language-javascript">      &#125;</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-keyword">const</span> router = <span class="hljs-keyword">new</span> <span class="hljs-title class_">VueRouter</span>([</span><br><span class="language-javascript">      &#123;</span><br><span class="language-javascript">        <span class="hljs-attr">path</span>: <span class="hljs-string">&quot;/&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;home&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">component</span>: <span class="hljs-string">&quot;&lt;div&gt;é¦–é¡µå†…å®¹&lt;/div&gt;&quot;</span></span><br><span class="language-javascript">      &#125;,</span><br><span class="language-javascript">      &#123;</span><br><span class="language-javascript">        <span class="hljs-attr">path</span>: <span class="hljs-string">&quot;/shop&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;shop&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">component</span>: <span class="hljs-string">&quot;&lt;div&gt;å•†åŸå†…å®¹&lt;/div&gt;&quot;</span></span><br><span class="language-javascript">      &#125;,</span><br><span class="language-javascript">      &#123;</span><br><span class="language-javascript">        <span class="hljs-attr">path</span>: <span class="hljs-string">&quot;/shopping-cart&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;shopping-cart&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">component</span>: <span class="hljs-string">&quot;&lt;div&gt;è´­ç‰©è½¦å†…å®¹&lt;/div&gt;&quot;</span></span><br><span class="language-javascript">      &#125;,</span><br><span class="language-javascript">      &#123;</span><br><span class="language-javascript">        <span class="hljs-attr">path</span>: <span class="hljs-string">&quot;/mine&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;mine&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">component</span>: <span class="hljs-string">&quot;&lt;div&gt;æˆ‘çš„å†…å®¹&lt;/div&gt;&quot;</span></span><br><span class="language-javascript">      &#125;</span><br><span class="language-javascript">    ]);</span><br><span class="language-javascript">  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>ä»ä¸Šé¢çš„ä¸€äº›æè¿°å’Œå®è·µï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºä»¥ä¸‹ç»“è®ºï¼š</p>
<ul>
<li>hashæ¨¡å¼æ‰€æœ‰çš„å·¥ä½œéƒ½æ˜¯åœ¨å‰ç«¯å®Œæˆçš„ï¼Œä¸éœ€è¦åç«¯æœåŠ¡çš„é…åˆ</li>
<li>hashæ¨¡å¼çš„å®ç°æ–¹å¼å°±æ˜¯é€šè¿‡ç›‘å¬URLä¸­hashéƒ¨åˆ†çš„å˜åŒ–ï¼Œä»è€Œåšå‡ºå¯¹åº”çš„æ¸²æŸ“é€»è¾‘</li>
<li>hashæ¨¡å¼ä¸‹ï¼ŒURLä¸­ä¼šå¸¦æœ‰#ï¼Œçœ‹èµ·æ¥ä¸å¤ªç¾è§‚</li>
</ul>
<h3 id="history-1"><a href="#history-1" class="headerlink" title="history"></a>history</h3><p>historyè·¯ç”±æ¨¡å¼çš„å®ç°ï¼Œæ˜¯è¦å½’åŠŸäºHTML5æä¾›çš„ä¸€ä¸ªhistoryå…¨å±€å¯¹è±¡ï¼Œå¯ä»¥å°†å®ƒç†è§£ä¸ºå…¶ä¸­åŒ…å«äº†å…³äºæˆ‘ä»¬è®¿é—®ç½‘é¡µï¼ˆå†å²ä¼šè¯ï¼‰çš„ä¸€äº›ä¿¡æ¯ã€‚åŒæ—¶å®ƒè¿˜æš´éœ²äº†ä¸€äº›æœ‰ç”¨çš„æ–¹æ³•ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>window.history.go å¯ä»¥è·³è½¬åˆ°æµè§ˆå™¨ä¼šè¯å†å²ä¸­çš„æŒ‡å®šçš„æŸä¸€ä¸ªè®°å½•é¡µ</li>
<li>window.history.forward æŒ‡å‘æµè§ˆå™¨ä¼šè¯å†å²ä¸­çš„ä¸‹ä¸€é¡µï¼Œè·Ÿæµè§ˆå™¨çš„å‰è¿›æŒ‰é’®ç›¸åŒ</li>
<li>window.history.back è¿”å›æµè§ˆå™¨ä¼šè¯å†å²ä¸­çš„ä¸Šä¸€é¡µï¼Œè·Ÿæµè§ˆå™¨çš„å›é€€æŒ‰é’®åŠŸèƒ½ç›¸åŒ</li>
<li>window.history.pushState å¯ä»¥å°†ç»™å®šçš„æ•°æ®å‹å…¥åˆ°æµè§ˆå™¨ä¼šè¯å†å²æ ˆä¸­</li>
<li>window.history.replaceState å°†å½“å‰çš„ä¼šè¯é¡µé¢çš„urlæ›¿æ¢æˆæŒ‡å®šçš„æ•°æ®</li>
</ul>
<p>è€Œhistoryè·¯ç”±çš„å®ç°ï¼Œä¸»è¦å°±æ˜¯ä¾é äºpushStateä¸replaceStateå®ç°çš„ï¼Œè¿™é‡Œæˆ‘ä»¬å…ˆæ€»ç»“ä¸‹å®ƒä»¬çš„ä¸€äº›ç‰¹ç‚¹</p>
<ul>
<li>éƒ½ä¼šæ”¹å˜å½“å‰é¡µé¢æ˜¾ç¤ºçš„urlï¼Œä½†éƒ½ä¸ä¼šåˆ·æ–°é¡µé¢</li>
<li>pushStateæ˜¯å‹å…¥æµè§ˆå™¨çš„ä¼šè¯å†å²æ ˆä¸­ï¼Œä¼šä½¿å¾—history.lengthåŠ 1ï¼Œè€ŒreplaceStateæ˜¯æ›¿æ¢å½“å‰çš„è¿™æ¡ä¼šè¯å†å²ï¼Œå› æ­¤ä¸ä¼šå¢åŠ history.length</li>
</ul>
<p>æ—¢ç„¶å·²ç»èƒ½å¤Ÿé€šè¿‡pushStateæˆ–replaceStateå®ç°æ”¹å˜URLè€Œä¸åˆ·æ–°é¡µé¢ï¼Œé‚£ä¹ˆæ˜¯ä¸æ˜¯å¦‚æœæˆ‘ä»¬èƒ½å¤Ÿç›‘å¬åˆ°æ”¹å˜URLè¿™ä¸ªåŠ¨ä½œï¼Œå°±å¯ä»¥å®ç°å‰ç«¯æ¸²æŸ“é€»è¾‘çš„å¤„ç†å‘¢ï¼Ÿè¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬è¿˜è¦äº†è§£ä¸€ä¸ªäº‹ä»¶å¤„ç†ç¨‹åºpopstateï¼Œå…ˆçœ‹ä¸‹å®ƒçš„å®˜æ–¹å®šä¹‰</p>
<blockquote>
<p>æ¯å½“æ¿€æ´»åŒä¸€æ–‡æ¡£ä¸­ä¸åŒçš„å†å²è®°å½•æ¡ç›®æ—¶ï¼Œ<code>popstate</code> äº‹ä»¶å°±ä¼šåœ¨å¯¹åº”çš„ <code>window</code> å¯¹è±¡ä¸Šè§¦å‘ã€‚å¦‚æœå½“å‰å¤„äºæ¿€æ´»çŠ¶æ€çš„å†å²è®°å½•æ¡ç›®æ˜¯ç”± <code>history.pushState()</code> æ–¹æ³•åˆ›å»ºçš„æˆ–è€…æ˜¯ç”± <code>history.replaceState()</code> æ–¹æ³•ä¿®æ”¹çš„ï¼Œåˆ™ <code>popstate</code> äº‹ä»¶çš„ <code>state</code> å±æ€§åŒ…å«äº†è¿™ä¸ªå†å²è®°å½•æ¡ç›®çš„ <code>state</code> å¯¹è±¡çš„ä¸€ä¸ªæ‹·è´ã€‚</p>
<p>è°ƒç”¨ <code>history.pushState()</code> æˆ–è€… <code>history.replaceState()</code> ä¸ä¼šè§¦å‘ <code>popstate</code> äº‹ä»¶ã€‚<code>popstate</code> äº‹ä»¶åªä¼šåœ¨æµè§ˆå™¨æŸäº›è¡Œä¸ºä¸‹è§¦å‘ï¼Œæ¯”å¦‚ç‚¹å‡»åé€€æŒ‰é’®ï¼ˆæˆ–è€…åœ¨ JavaScript ä¸­è°ƒç”¨ <code>history.back()</code> æ–¹æ³•ï¼‰ã€‚å³ï¼Œåœ¨åŒä¸€æ–‡æ¡£çš„ä¸¤ä¸ªå†å²è®°å½•æ¡ç›®ä¹‹é—´å¯¼èˆªä¼šè§¦å‘è¯¥äº‹ä»¶ã€‚</p>
</blockquote>
<p>æ€»ç»“ä¸‹å°±æ˜¯ä»¥ä¸‹å‡ ç‚¹</p>
<ul>
<li>history.pushStateå’Œhistory.replaceStateæ–¹æ³•æ˜¯ä¸ä¼šè§¦å‘popstateäº‹ä»¶çš„</li>
<li>ä½†æ˜¯æµè§ˆå™¨çš„æŸäº›è¡Œä¸ºä¼šå¯¼è‡´popstateï¼Œæ¯”å¦‚goã€backã€forward</li>
<li>popstateäº‹ä»¶å¯¹è±¡ä¸­çš„stateå±æ€§ï¼Œå¯ä»¥ç†è§£æ˜¯æˆ‘ä»¬åœ¨é€šè¿‡history.pushStateæˆ–history.replaceStateæ–¹æ³•æ—¶ï¼Œä¼ å…¥çš„æŒ‡å®šçš„æ•°æ®</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> _wr = <span class="hljs-keyword">function</span>(<span class="hljs-params">type</span>) &#123;<br>   <span class="hljs-keyword">let</span> orig = history[type]<br>   <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>      <span class="hljs-keyword">let</span> rv = orig.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-variable language_">arguments</span>)<br>      <span class="hljs-keyword">let</span> e = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Event</span>(type)<br>      e.<span class="hljs-property">arguments</span> = <span class="hljs-variable language_">arguments</span><br>      <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">dispatchEvent</span>(e)<br>      <span class="hljs-keyword">return</span> rv<br>   &#125;<br>&#125;<br><br> history.<span class="hljs-property">pushState</span> = <span class="hljs-title function_">_wr</span>(<span class="hljs-string">&#x27;pushState&#x27;</span>)<br> history.<span class="hljs-property">replaceState</span> = <span class="hljs-title function_">_wr</span>(<span class="hljs-string">&#x27;replaceState&#x27;</span>)<br></code></pre></td></tr></table></figure>



<p>hashæ¨¡å¼æ˜¯ä¸éœ€è¦åç«¯æœåŠ¡é…åˆçš„ã€‚ä½†æ˜¯historyæ¨¡å¼ä¸‹ï¼Œå¦‚æœä½ å†è·³è½¬è·¯ç”±åå†æ¬¡åˆ·æ–°ä¼šå¾—åˆ°404çš„é”™è¯¯ï¼Œè¿™ä¸ªé”™è¯¯è¯´ç™½äº†å°±æ˜¯æµè§ˆå™¨ä¼šæŠŠæ•´ä¸ªåœ°å€å½“æˆä¸€ä¸ªå¯è®¿é—®çš„é™æ€èµ„æºè·¯å¾„è¿›è¡Œè®¿é—®ï¼Œç„¶åæœåŠ¡ç«¯å¹¶æ²¡æœ‰è¿™ä¸ªæ–‡ä»¶ï½çœ‹ä¸‹é¢ä¾‹å­æ›´å¥½ç†è§£</p>
<p><strong>æ²¡åˆ·æ–°æ—¶ï¼Œåªæ˜¯é€šè¿‡pushStateæ”¹å˜URLï¼Œä¸åˆ·æ–°é¡µé¢</strong></p>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs tex">http://192.168.30.161:5500/ === http://192.168.30.161:5500/index.html // é»˜è®¤è®¿é—®è·¯å¾„ä¸‹çš„index.htmlæ–‡ä»¶ï¼Œæ²¡æ¯›ç—…<br>http://192.168.30.161:5500/home === http://192.168.30.161:5500/index.html // ä»ç„¶è®¿é—®è·¯å¾„ä¸‹çš„index.htmlæ–‡ä»¶ï¼Œæ²¡æ¯›ç—…<br>...<br>http://192.168.30.161:5500/mine === http://192.168.30.161:5500/index.html // æ‰€æœ‰çš„è·¯ç”±éƒ½æ˜¯è®¿é—®è·¯å¾„ä¸‹çš„index.htmlï¼Œæ²¡æ¯›ç—…<br></code></pre></td></tr></table></figure>

<p><strong>ä¸€æ—¦åœ¨æŸä¸ªè·¯ç”±ä¸‹åˆ·æ–°é¡µé¢çš„æ—¶å€™ï¼Œæƒ³å½“äºå»è¯¥è·¯å¾„ä¸‹å¯»æ‰¾å¯è®¿é—®çš„é™æ€èµ„æºindex.htmlï¼Œæ— æœï¼ŒæŠ¥é”™</strong></p>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs tex">http://192.168.30.161:5500/mine === http://192.168.30.161:5500/mine/index.htmlæ–‡ä»¶ï¼Œå‡ºé—®é¢˜äº†ï¼ŒæœåŠ¡å™¨ä¸Šå¹¶æ²¡æœ‰è¿™ä¸ªèµ„æºï¼Œ404ğŸ˜­<br></code></pre></td></tr></table></figure>

<p><strong>æ‰€ä»¥ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éƒ½éœ€è¦é…ç½®ä¸‹nginxï¼Œå‘Šè¯‰æœåŠ¡å™¨ï¼Œå½“æˆ‘ä»¬è®¿é—®çš„è·¯å¾„èµ„æºä¸å­˜åœ¨çš„æ—¶å€™ï¼Œé»˜è®¤æŒ‡å‘é™æ€èµ„æºindex.html</strong></p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-section">location</span> / &#123;<br>  <span class="hljs-attribute">try_files</span> <span class="hljs-variable">$uri</span> <span class="hljs-variable">$uri</span>/ /index.html;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>ä¸€èˆ¬è·¯ç”±å®ç°ä¸»è¦æœ‰historyå’Œhashä¸¤ç§æ–¹å¼</p>
<p>hashçš„å®ç°å…¨éƒ¨åœ¨å‰ç«¯ï¼Œä¸éœ€è¦åç«¯æœåŠ¡å™¨é…åˆï¼Œå…¼å®¹æ€§å¥½ï¼Œä¸»è¦æ˜¯é€šè¿‡ç›‘å¬hashchangeäº‹ä»¶ï¼Œå¤„ç†å‰ç«¯ä¸šåŠ¡é€»è¾‘</p>
<p>historyçš„å®ç°ï¼Œéœ€è¦æœåŠ¡å™¨åšä»¥ä¸‹ç®€å•çš„é…ç½®ï¼Œé€šè¿‡ç›‘å¬pushStateåŠreplaceStateäº‹ä»¶ï¼Œå¤„ç†å‰ç«¯ä¸šåŠ¡é€»è¾‘</p>
<h3 id="abstract"><a href="#abstract" class="headerlink" title="abstract"></a>abstract</h3><p>abstract æ˜¯vueè·¯ç”±ä¸­çš„ç¬¬ä¸‰ç§æ¨¡å¼ï¼Œæœ¬èº«æ˜¯ç”¨æ¥åœ¨ä¸æ”¯æŒæµè§ˆå™¨APIçš„ç¯å¢ƒä¸­ï¼Œå……å½“fallbackï¼Œè€Œä¸è®ºæ˜¯hashè¿˜æ˜¯historyæ¨¡å¼éƒ½ä¼šå¯¹æµè§ˆå™¨ä¸Šçš„urläº§ç”Ÿä½œç”¨ï¼Œä»–ä¸€èˆ¬è¦å®ç°çš„åŠŸèƒ½å°±æ˜¯åœ¨å·²å­˜åœ¨çš„è·¯ç”±é¡µé¢ä¸­å†…åµŒå…¶ä»–çš„è·¯ç”±é¡µé¢ï¼Œè€Œä¿æŒåœ¨æµè§ˆå™¨å½“ä¸­ä¾æ—§æ˜¾ç¤ºå½“å‰é¡µé¢çš„è·¯ç”±pathï¼Œè¿™å°±æ˜¯abstractè¿™ç§ä¸æµè§ˆå™¨åˆ†ç¦»çš„è·¯ç”±æ¨¡å¼ã€‚</p>
<h1 id="å‰ç«¯æ€§èƒ½ä¼˜åŒ–"><a href="#å‰ç«¯æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="å‰ç«¯æ€§èƒ½ä¼˜åŒ–"></a>å‰ç«¯æ€§èƒ½ä¼˜åŒ–</h1><h3 id="è·¯ç”±æ‡’åŠ è½½"><a href="#è·¯ç”±æ‡’åŠ è½½" class="headerlink" title="è·¯ç”±æ‡’åŠ è½½"></a>è·¯ç”±æ‡’åŠ è½½</h3><p>SPA é¡¹ç›®ï¼Œä¸€ä¸ªè·¯ç”±å¯¹åº”ä¸€ä¸ªé¡µé¢ï¼Œå¦‚æœä¸åšå¤„ç†ï¼Œé¡¹ç›®æ‰“åŒ…åï¼Œä¼šæŠŠæ‰€æœ‰é¡µé¢æ‰“åŒ…æˆä¸€ä¸ªæ–‡ä»¶ï¼Œ<strong>å½“ç”¨æˆ·æ‰“å¼€é¦–é¡µæ—¶ï¼Œä¼šä¸€æ¬¡æ€§åŠ è½½æ‰€æœ‰çš„èµ„æº</strong>ï¼Œé€ æˆé¦–é¡µåŠ è½½å¾ˆæ…¢ï¼Œé™ä½ç”¨æˆ·ä½“éªŒ</p>
<p><strong>åŸç†</strong></p>
<p>ES6çš„åŠ¨æ€åœ°åŠ è½½æ¨¡å—â€”â€”<code>import()</code></p>
<p>è°ƒç”¨ import() ä¹‹å¤„ï¼Œè¢«ä½œä¸ºåˆ†ç¦»çš„æ¨¡å—èµ·ç‚¹ï¼Œæ„æ€æ˜¯ï¼Œè¢«è¯·æ±‚çš„æ¨¡å—å’Œå®ƒå¼•ç”¨çš„æ‰€æœ‰å­æ¨¡å—ï¼Œä¼šåˆ†ç¦»åˆ°ä¸€ä¸ªå•ç‹¬çš„ chunk ä¸­</p>
<p>webpackChunkName ä½œç”¨æ˜¯ webpack åœ¨æ‰“åŒ…çš„æ—¶å€™ï¼Œå¯¹å¼‚æ­¥å¼•å…¥çš„åº“ä»£ç ï¼ˆlodashï¼‰è¿›è¡Œä»£ç åˆ†å‰²æ—¶ï¼Œè®¾ç½®ä»£ç å—çš„åå­—ã€‚webpack ä¼šå°†ä»»ä½•ä¸€ä¸ªå¼‚æ­¥æ¨¡å—ä¸ç›¸åŒçš„å—åç§°ç»„åˆåˆ°ç›¸åŒçš„å¼‚æ­¥å—ä¸­</p>
<h3 id="ç»„ä»¶æ‡’åŠ è½½"><a href="#ç»„ä»¶æ‡’åŠ è½½" class="headerlink" title="ç»„ä»¶æ‡’åŠ è½½"></a>ç»„ä»¶æ‡’åŠ è½½</h3><p>å’Œè·¯ç”±æ‡’åŠ è½½ä¸€è‡´ï¼Œä¹Ÿæ˜¯ä½¿ç”¨import</p>
<h3 id="éª¨æ¶å±"><a href="#éª¨æ¶å±" class="headerlink" title="éª¨æ¶å±"></a>éª¨æ¶å±</h3><p>ä½¿ç”¨éª¨æ¶å±ï¼Œå¯ä»¥ç¼©çŸ­ç™½å±æ—¶é—´ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚å›½å†…å¤§å¤šæ•°çš„ä¸»æµç½‘ç«™éƒ½ä½¿ç”¨äº†éª¨æ¶å±ï¼Œç‰¹åˆ«æ˜¯æ‰‹æœºç«¯çš„é¡¹ç›®</p>
<p>SPA å•é¡µåº”ç”¨ï¼Œæ— è®º vue è¿˜æ˜¯ reactï¼Œæœ€åˆçš„ html éƒ½æ˜¯ç©ºç™½çš„ï¼Œéœ€è¦é€šè¿‡åŠ è½½ JS å°†å†…å®¹æŒ‚è½½åˆ°æ ¹èŠ‚ç‚¹ä¸Šï¼Œè¿™å¥—æœºåˆ¶çš„å‰¯ä½œç”¨ï¼šä¼šé€ æˆé•¿æ—¶é—´çš„ç™½å±</p>
<p>å¸¸è§çš„éª¨æ¶å±æ’ä»¶å°±æ˜¯åŸºäºè¿™ç§åŸç†ï¼Œåœ¨é¡¹ç›®æ‰“åŒ…æ—¶å°†éª¨æ¶å±çš„å†…å®¹ç›´æ¥æ”¾åˆ° html æ–‡ä»¶çš„æ ¹èŠ‚ç‚¹ä¸­</p>
<h3 id="é•¿åˆ—è¡¨è™šæ‹Ÿæ»šåŠ¨"><a href="#é•¿åˆ—è¡¨è™šæ‹Ÿæ»šåŠ¨" class="headerlink" title="é•¿åˆ—è¡¨è™šæ‹Ÿæ»šåŠ¨"></a>é•¿åˆ—è¡¨è™šæ‹Ÿæ»šåŠ¨</h3><p>é¦–é¡µä¸­ä¸ä¹æœ‰éœ€è¦æ¸²æŸ“é•¿åˆ—è¡¨çš„åœºæ™¯ï¼Œå½“æ¸²æŸ“æ¡æ•°è¿‡å¤šæ—¶ï¼Œæ‰€éœ€è¦çš„æ¸²æŸ“æ—¶é—´ä¼šå¾ˆé•¿ï¼Œæ»šåŠ¨æ—¶è¿˜ä¼šé€ æˆé¡µé¢å¡é¡¿ï¼Œæ•´ä½“ä½“éªŒéå¸¸ä¸å¥½</p>
<p><strong>è™šæ‹Ÿæ»šåŠ¨â€”â€”æŒ‡çš„æ˜¯åªæ¸²æŸ“å¯è§†åŒºåŸŸçš„åˆ—è¡¨é¡¹ï¼Œéå¯è§åŒºåŸŸçš„</strong>ä¸æ¸²æŸ“ï¼Œåœ¨æ»šåŠ¨æ—¶åŠ¨æ€æ›´æ–°å¯è§†åŒºåŸŸï¼Œè¯¥æ–¹æ¡ˆåœ¨ä¼˜åŒ–å¤§é‡æ•°æ®æ¸²æŸ“æ—¶æ•ˆæœæ˜¯å¾ˆæ˜æ˜¾çš„</p>
<p>è™šæ‹Ÿæ»šåŠ¨å›¾ä¾‹ï¼š</p>
<p><img src="/Users/mac/Desktop/test/TestCase/%E7%AC%94%E8%AE%B0/image/test.png" srcset="/img/loading.gif" lazyload alt="test"></p>
<p>è™šæ‹Ÿæ»šåŠ¨åŸºæœ¬åŸç†ï¼š</p>
<p>è®¡ç®—å‡º totalHeight åˆ—è¡¨æ€»é«˜åº¦ï¼Œå¹¶åœ¨è§¦å‘æ—¶æ»šåŠ¨äº‹ä»¶æ—¶æ ¹æ® scrollTop å€¼ä¸æ–­æ›´æ–° startIndex ä»¥åŠ endIndex ï¼Œä»¥æ­¤ä»åˆ—è¡¨æ•°æ® listData ä¸­æˆªå–å¯¹åº”å…ƒç´ </p>
<p><strong>æ’ä»¶ä½¿ç”¨</strong>ï¼š vue-virtual-scrollerã€vue-virtual-scroll-listã€react-tiny-virtual-listã€react-virtualized</p>
<h3 id="Web-Worker-ä¼˜åŒ–é•¿ä»»åŠ¡"><a href="#Web-Worker-ä¼˜åŒ–é•¿ä»»åŠ¡" class="headerlink" title="Web Worker ä¼˜åŒ–é•¿ä»»åŠ¡"></a>Web Worker ä¼˜åŒ–é•¿ä»»åŠ¡</h3><p>ç”±äºæµè§ˆå™¨ GUI æ¸²æŸ“çº¿ç¨‹ä¸ JS å¼•æ“çº¿ç¨‹æ˜¯äº’æ–¥çš„å…³ç³»ï¼Œå½“é¡µé¢ä¸­æœ‰å¾ˆå¤šé•¿ä»»åŠ¡æ—¶ï¼Œä¼šé€ æˆé¡µé¢ UI é˜»å¡ï¼Œå‡ºç°ç•Œé¢å¡é¡¿ã€æ‰å¸§ç­‰æƒ…å†µ</p>
<p>å¹¶ä¸æ˜¯æ‰§è¡Œæ—¶é—´è¶…è¿‡ 50ms çš„ä»»åŠ¡ï¼Œå°±å¯ä»¥ä½¿ç”¨ Web Workerï¼Œè¿˜è¦å…ˆè€ƒè™‘<code>é€šä¿¡æ—¶é•¿</code>çš„é—®é¢˜</p>
<p>å‡å¦‚ä¸€ä¸ªè¿ç®—æ‰§è¡Œæ—¶é•¿ä¸º 100msï¼Œä½†æ˜¯é€šä¿¡æ—¶é•¿ä¸º 300msï¼Œ ç”¨äº† Web Workerå¯èƒ½ä¼šæ›´æ…¢</p>
<p>æ¯”å¦‚æ–°å»ºä¸€ä¸ª web worker, æµè§ˆå™¨ä¼šåŠ è½½å¯¹åº”çš„ worker.js èµ„æºï¼Œä¸‹å›¾ä¸­çš„ Time æ˜¯è¿™ä¸ªèµ„æºçš„é€šä¿¡æ—¶é•¿ï¼ˆä¹Ÿå«åŠ è½½æ—¶é•¿ï¼‰</p>
<p><strong>å½“ä»»åŠ¡çš„è¿ç®—æ—¶é•¿ - é€šä¿¡æ—¶é•¿ &gt; 50msï¼Œæ¨èä½¿ç”¨Web Worker</strong></p>
<h3 id="requestAnimationFrame-åˆ¶ä½œåŠ¨ç”»"><a href="#requestAnimationFrame-åˆ¶ä½œåŠ¨ç”»" class="headerlink" title="requestAnimationFrame åˆ¶ä½œåŠ¨ç”»"></a>requestAnimationFrame åˆ¶ä½œåŠ¨ç”»</h3><p><code>requestAnimationFrame</code> æ˜¯æµè§ˆå™¨ä¸“é—¨ä¸ºåŠ¨ç”»æä¾›çš„ APIï¼Œå®ƒçš„åˆ·æ–°é¢‘ç‡ä¸æ˜¾ç¤ºå™¨çš„é¢‘ç‡ä¿æŒä¸€è‡´ï¼Œä½¿ç”¨è¯¥ api å¯ä»¥è§£å†³ç”¨ setTimeout&#x2F;setInterval åˆ¶ä½œåŠ¨ç”»å¡é¡¿çš„æƒ…å†µ</p>
<p>setTimeout&#x2F;setIntervalã€requestAnimationFrame ä¸‰è€…çš„åŒºåˆ«ï¼š</p>
<p>1ï¼‰å¼•æ“å±‚é¢</p>
<p>setTimeout&#x2F;setInterval å±äº <code>JSå¼•æ“</code>ï¼ŒrequestAnimationFrame å±äº <code>GUIå¼•æ“</code></p>
<p><code>JSå¼•æ“ä¸GUIå¼•æ“</code>æ˜¯äº’æ–¥çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ GUI å¼•æ“åœ¨æ¸²æŸ“æ—¶ä¼šé˜»å¡ JS å¼•æ“çš„è®¡ç®—</p>
<p>2ï¼‰æ—¶é—´æ˜¯å¦å‡†ç¡®</p>
<p>requestAnimationFrame åˆ·æ–°é¢‘ç‡æ˜¯å›ºå®šä¸”å‡†ç¡®çš„ï¼Œä½† setTimeout&#x2F;setInterval æ˜¯å®ä»»åŠ¡ï¼Œæ ¹æ®äº‹ä»¶è½®è¯¢æœºåˆ¶ï¼Œå…¶ä»–ä»»åŠ¡ä¼šé˜»å¡æˆ–å»¶è¿Ÿjsä»»åŠ¡çš„æ‰§è¡Œï¼Œä¼šå‡ºç°å®šæ—¶å™¨ä¸å‡†çš„æƒ…å†µ</p>
<p>3ï¼‰æ€§èƒ½å±‚é¢</p>
<p>å½“é¡µé¢è¢«éšè—æˆ–æœ€å°åŒ–æ—¶ï¼ŒsetTimeout&#x2F;setInterval å®šæ—¶å™¨ä»ä¼šåœ¨åå°æ‰§è¡ŒåŠ¨ç”»ä»»åŠ¡ï¼Œè€Œä½¿ç”¨ requestAnimationFrame å½“é¡µé¢å¤„äºæœªæ¿€æ´»çš„çŠ¶æ€ä¸‹ï¼Œå±å¹•åˆ·æ–°ä»»åŠ¡ä¼šè¢«ç³»ç»Ÿæš‚åœ</p>
<h3 id="JSçš„6ç§åŠ è½½æ–¹å¼"><a href="#JSçš„6ç§åŠ è½½æ–¹å¼" class="headerlink" title="JSçš„6ç§åŠ è½½æ–¹å¼"></a>JSçš„6ç§åŠ è½½æ–¹å¼</h3><p><strong>æ­£å¸¸æ¨¡å¼</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;index.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>è¿™ç§æƒ…å†µä¸‹ JS ä¼šé˜»å¡ dom æ¸²æŸ“ï¼Œæµè§ˆå™¨å¿…é¡»ç­‰å¾… index.js åŠ è½½å’Œæ‰§è¡Œå®Œæˆåæ‰èƒ½å»åšå…¶å®ƒäº‹æƒ…</p>
<p><strong>asyncæ¨¡å¼</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">async</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;index.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>async æ¨¡å¼ä¸‹ï¼Œå®ƒçš„åŠ è½½æ˜¯å¼‚æ­¥çš„ï¼ŒJS ä¸ä¼šé˜»å¡ DOM çš„æ¸²æŸ“ï¼Œasync åŠ è½½æ˜¯æ— é¡ºåºçš„ï¼Œå½“å®ƒåŠ è½½ç»“æŸï¼ŒJS ä¼šç«‹å³æ‰§è¡Œ</p>
<p>ä½¿ç”¨åœºæ™¯ï¼šè‹¥è¯¥ JS èµ„æºä¸ DOM å…ƒç´ æ²¡æœ‰ä¾èµ–å…³ç³»ï¼Œä¹Ÿä¸ä¼šäº§ç”Ÿå…¶ä»–èµ„æºæ‰€éœ€è¦çš„æ•°æ®æ—¶ï¼Œå¯ä»¥ä½¿ç”¨async æ¨¡å¼ï¼Œæ¯”å¦‚åŸ‹ç‚¹ç»Ÿè®¡</p>
<p><strong>deferæ¨¡å¼</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">defer</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;index.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>defer æ¨¡å¼ä¸‹ï¼ŒJS çš„åŠ è½½ä¹Ÿæ˜¯å¼‚æ­¥çš„ï¼Œdefer èµ„æºä¼šåœ¨ <code>DOMContentLoaded</code> æ‰§è¡Œä¹‹å‰ï¼Œå¹¶ä¸” defer æ˜¯æœ‰é¡ºåºçš„åŠ è½½</p>
<p>å¦‚æœæœ‰å¤šä¸ªè®¾ç½®äº† defer çš„ script æ ‡ç­¾å­˜åœ¨ï¼Œåˆ™ä¼šæŒ‰ç…§å¼•å…¥çš„å‰åé¡ºåºæ‰§è¡Œï¼Œå³ä¾¿æ˜¯åé¢çš„ script èµ„æºå…ˆè¿”å›</p>
<p>æ‰€ä»¥ defer å¯ä»¥ç”¨æ¥æ§åˆ¶ JS æ–‡ä»¶çš„æ‰§è¡Œé¡ºåºï¼Œæ¯”å¦‚ element-ui.js å’Œ vue.jsï¼Œå› ä¸º element-ui.js ä¾èµ–äº vueï¼Œæ‰€ä»¥å¿…é¡»å…ˆå¼•å…¥ vue.jsï¼Œå†å¼•å…¥ element-ui.js</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">defer</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">defer</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;element-ui.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>defer ä½¿ç”¨åœºæ™¯ï¼šä¸€èˆ¬æƒ…å†µä¸‹éƒ½å¯ä»¥ä½¿ç”¨ deferï¼Œç‰¹åˆ«æ˜¯éœ€è¦æ§åˆ¶èµ„æºåŠ è½½é¡ºåºæ—¶</p>
<p><strong>moduleæ¨¡å¼</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;module&quot;</span>&gt;</span><span class="language-javascript"><span class="hljs-keyword">import</span> &#123; a &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./a.js&#x27;</span></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>åœ¨ä¸»æµçš„ç°ä»£æµè§ˆå™¨ä¸­ï¼Œscript æ ‡ç­¾çš„å±æ€§å¯ä»¥åŠ ä¸Š <code>type=&quot;module&quot;</code>ï¼Œæµè§ˆå™¨ä¼šå¯¹å…¶å†…éƒ¨çš„ import å¼•ç”¨å‘èµ· HTTP è¯·æ±‚ï¼Œè·å–æ¨¡å—å†…å®¹ã€‚è¿™æ—¶ script çš„è¡Œä¸ºä¼šåƒæ˜¯ defer ä¸€æ ·ï¼Œåœ¨åå°ä¸‹è½½ï¼Œå¹¶ä¸”ç­‰å¾… DOM è§£æ</p>
<p>Vite å°±æ˜¯åˆ©ç”¨æµè§ˆå™¨æ”¯æŒåŸç”Ÿçš„ <code>es module</code> æ¨¡å—ï¼Œå¼€å‘æ—¶è·³è¿‡æ‰“åŒ…çš„è¿‡ç¨‹ï¼Œæå‡ç¼–è¯‘æ•ˆç‡</p>
<p><strong>preload</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;preload&quot;</span> <span class="hljs-attr">as</span>=<span class="hljs-string">&quot;script&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;index.js&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>link æ ‡ç­¾çš„ preload å±æ€§ï¼šç”¨äºæå‰åŠ è½½ä¸€äº›éœ€è¦çš„ä¾èµ–ï¼Œè¿™äº›èµ„æºä¼šä¼˜å…ˆåŠ è½½</p>
<p>preload ç‰¹ç‚¹ï¼š</p>
<p>1ï¼‰preload åŠ è½½çš„èµ„æºæ˜¯åœ¨æµè§ˆå™¨æ¸²æŸ“æœºåˆ¶ä¹‹å‰è¿›è¡Œå¤„ç†çš„ï¼Œå¹¶ä¸”ä¸ä¼šé˜»å¡ onload äº‹ä»¶ï¼›</p>
<p>2ï¼‰preload åŠ è½½çš„ JS è„šæœ¬å…¶åŠ è½½å’Œæ‰§è¡Œçš„è¿‡ç¨‹æ˜¯åˆ†ç¦»çš„ï¼Œå³ preload ä¼šé¢„åŠ è½½ç›¸åº”çš„è„šæœ¬ä»£ç ï¼Œå¾…åˆ°éœ€è¦æ—¶è‡ªè¡Œè°ƒç”¨ï¼›</p>
<p><strong>prefetch</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;prefetch&quot;</span> <span class="hljs-attr">as</span>=<span class="hljs-string">&quot;script&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;index.js&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>prefetch æ˜¯åˆ©ç”¨æµè§ˆå™¨çš„ç©ºé—²æ—¶é—´ï¼ŒåŠ è½½é¡µé¢å°†æ¥å¯èƒ½ç”¨åˆ°çš„èµ„æºçš„ä¸€ç§æœºåˆ¶ï¼›é€šå¸¸å¯ä»¥ç”¨äºåŠ è½½å…¶ä»–é¡µé¢ï¼ˆéé¦–é¡µï¼‰æ‰€éœ€è¦çš„èµ„æºï¼Œä»¥ä¾¿åŠ å¿«åç»­é¡µé¢çš„æ‰“å¼€é€Ÿåº¦</p>
<p>prefetch ç‰¹ç‚¹ï¼š</p>
<p>1ï¼‰pretch åŠ è½½çš„èµ„æºå¯ä»¥è·å–éå½“å‰é¡µé¢æ‰€éœ€è¦çš„èµ„æºï¼Œå¹¶ä¸”å°†å…¶æ”¾å…¥ç¼“å­˜è‡³å°‘5åˆ†é’Ÿï¼ˆæ— è®ºèµ„æºæ˜¯å¦å¯ä»¥ç¼“å­˜ï¼‰</p>
<p>2ï¼‰å½“é¡µé¢è·³è½¬æ—¶ï¼Œæœªå®Œæˆçš„ prefetch è¯·æ±‚ä¸ä¼šè¢«ä¸­æ–­</p>
<p><strong>åŠ è½½æ–¹å¼æ€»ç»“</strong></p>
<p>asyncã€defer æ˜¯ script æ ‡ç­¾çš„ä¸“å±å±æ€§ï¼Œå¯¹äºç½‘é¡µä¸­çš„å…¶ä»–èµ„æºï¼Œå¯ä»¥é€šè¿‡ link çš„ preloadã€prefetch å±æ€§æ¥é¢„åŠ è½½</p>
<p>å¦‚ä»Šç°ä»£æ¡†æ¶å·²ç»å°† preloadã€prefetch æ·»åŠ åˆ°æ‰“åŒ…æµç¨‹ä¸­äº†ï¼Œé€šè¿‡çµæ´»çš„é…ç½®ï¼Œå»ä½¿ç”¨è¿™äº›é¢„åŠ è½½åŠŸèƒ½ï¼ŒåŒæ—¶æˆ‘ä»¬ä¹Ÿå¯ä»¥å®¡æ—¶åº¦åŠ¿åœ°å‘ script æ ‡ç­¾æ·»åŠ  asyncã€defer å±æ€§å»å¤„ç†èµ„æºï¼Œè¿™æ ·å¯ä»¥æ˜¾è‘—æå‡æ€§èƒ½</p>
<h3 id="å›¾ç‰‡çš„ä¼˜åŒ–"><a href="#å›¾ç‰‡çš„ä¼˜åŒ–" class="headerlink" title="å›¾ç‰‡çš„ä¼˜åŒ–"></a>å›¾ç‰‡çš„ä¼˜åŒ–</h3><p><strong>å›¾ç‰‡çš„åŠ¨æ€è£å‰ª</strong></p>
<p><strong>å›¾ç‰‡çš„æ‡’åŠ è½½</strong></p>
<p>å›¾ç‰‡æ‡’åŠ è½½å®ç°åŸç†ï¼š</p>
<p>ç”±äºæµè§ˆå™¨ä¼šè‡ªåŠ¨å¯¹é¡µé¢ä¸­çš„ img æ ‡ç­¾çš„ src å±æ€§å‘é€è¯·æ±‚å¹¶ä¸‹è½½å›¾ç‰‡ï¼Œå¯ä»¥é€šè¿‡ html5 è‡ªå®šä¹‰å±æ€§ data-xxx å…ˆæš‚å­˜ src çš„å€¼ï¼Œç„¶ååœ¨å›¾ç‰‡å‡ºç°åœ¨å±å¹•å¯è§†åŒºåŸŸçš„æ—¶å€™ï¼Œå†å°† data-xxx çš„å€¼é‡æ–°èµ‹å€¼åˆ° img çš„ src å±æ€§å³å¯</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">data-src</span>=<span class="hljs-string">&quot;./images/1.jpg&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">data-src</span>=<span class="hljs-string">&quot;./images/2.jpg&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p><strong>ä½¿ç”¨å­—ä½“å›¾æ ‡</strong></p>
<p>å­—ä½“å›¾æ ‡æ˜¯é¡µé¢ä½¿ç”¨å°å›¾æ ‡çš„ä¸äºŒé€‰æ‹©ï¼Œæœ€å¸¸ç”¨çš„å°±æ˜¯ <a href="https://link.juejin.cn/?target=https://www.iconfont.cn/home/index">iconfont</a></p>
<p>å­—ä½“å›¾æ ‡çš„ä¼˜ç‚¹ï¼š</p>
<p>1ï¼‰è½»é‡çº§ï¼šä¸€ä¸ªå›¾æ ‡å­—ä½“è¦æ¯”ä¸€ç³»åˆ—çš„å›¾åƒè¦å°ã€‚ä¸€æ—¦å­—ä½“åŠ è½½äº†ï¼Œå›¾æ ‡å°±ä¼šé©¬ä¸Šæ¸²æŸ“å‡ºæ¥ï¼Œå‡å°‘äº† http è¯·æ±‚</p>
<p>2ï¼‰çµæ´»æ€§ï¼šå¯ä»¥éšæ„çš„æ”¹å˜é¢œè‰²ã€äº§ç”Ÿé˜´å½±ã€é€æ˜æ•ˆæœã€æ—‹è½¬ç­‰</p>
<p>3ï¼‰å…¼å®¹æ€§ï¼šå‡ ä¹æ”¯æŒæ‰€æœ‰çš„æµè§ˆå™¨ï¼Œè¯·æ”¾å¿ƒä½¿ç”¨</p>
<p><strong>å›¾ç‰‡è½¬ base64 æ ¼å¼</strong></p>
<p>å°†å°å›¾ç‰‡è½¬æ¢ä¸º base64 ç¼–ç å­—ç¬¦ä¸²ï¼Œå¹¶å†™å…¥ HTML æˆ–è€… CSS ä¸­ï¼Œå‡å°‘ http è¯·æ±‚</p>
<p>è½¬ base64 æ ¼å¼çš„ä¼˜ç¼ºç‚¹ï¼š</p>
<p>1ï¼‰å®ƒå¤„ç†çš„å¾€å¾€æ˜¯éå¸¸å°çš„å›¾ç‰‡ï¼Œå› ä¸º Base64 ç¼–ç åï¼Œå›¾ç‰‡å¤§å°ä¼šè†¨èƒ€ä¸ºåŸæ–‡ä»¶çš„ 4&#x2F;3ï¼Œå¦‚æœå¯¹å¤§å›¾ä¹Ÿä½¿ç”¨ Base64 ç¼–ç ï¼Œåè€…çš„ä½“ç§¯ä¼šæ˜æ˜¾å¢åŠ ï¼Œå³ä¾¿å‡å°‘äº† http è¯·æ±‚ï¼Œä¹Ÿæ— æ³•å¼¥è¡¥è¿™åºå¤§çš„ä½“ç§¯å¸¦æ¥çš„æ€§èƒ½å¼€é”€ï¼Œå¾—ä¸å¿å¤±</p>
<p>2ï¼‰åœ¨ä¼ è¾“éå¸¸å°çš„å›¾ç‰‡çš„æ—¶å€™ï¼ŒBase64 å¸¦æ¥çš„æ–‡ä»¶ä½“ç§¯è†¨èƒ€ã€ä»¥åŠæµè§ˆå™¨è§£æ Base64 çš„æ—¶é—´å¼€é”€ï¼Œä¸å®ƒèŠ‚çœæ‰çš„ http è¯·æ±‚å¼€é”€ç›¸æ¯”ï¼Œå¯ä»¥å¿½ç•¥ä¸è®¡ï¼Œè¿™æ—¶å€™æ‰èƒ½çœŸæ­£ä½“ç°å‡ºå®ƒåœ¨æ€§èƒ½æ–¹é¢çš„ä¼˜åŠ¿</p>
<h1 id="å‰ç«¯æ¨¡å—åŒ–"><a href="#å‰ç«¯æ¨¡å—åŒ–" class="headerlink" title="å‰ç«¯æ¨¡å—åŒ–"></a>å‰ç«¯æ¨¡å—åŒ–</h1><h3 id="1-å…¨å±€å‡½æ•°å¼ç¼–ç¨‹"><a href="#1-å…¨å±€å‡½æ•°å¼ç¼–ç¨‹" class="headerlink" title="1.å…¨å±€å‡½æ•°å¼ç¼–ç¨‹"></a>1.å…¨å±€å‡½æ•°å¼ç¼–ç¨‹</h3><p>åœ¨æ—©æœŸçš„Webå¼€å‘ä¸­ï¼Œé€šå¸¸ä½¿ç”¨å…¨å±€èŒƒå›´å†…å£°æ˜å‡½æ•°å’Œå˜é‡çš„æ–¹å¼æ¥ç»„ç»‡ä»£ç ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> module1Data = <span class="hljs-string">&#x27;module1 data&#x27;</span>;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">module1Func</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(module1Data);<br>&#125;<br></code></pre></td></tr></table></figure>

<p>è¿™ç§æ–¹å¼å­˜åœ¨çš„é—®é¢˜ä¸»è¦æœ‰å‘½åå†²çªã€å‡½æ•°é—´ä¾èµ–å…³ç³»ä¸æ˜æ˜¾ã€ç»´æŠ¤å›°éš¾ç­‰ã€‚</p>
<h3 id="2-å‘½åç©ºé—´æ¨¡å¼"><a href="#2-å‘½åç©ºé—´æ¨¡å¼" class="headerlink" title="2.å‘½åç©ºé—´æ¨¡å¼"></a>2.å‘½åç©ºé—´æ¨¡å¼</h3><p>éšç€å¯¹ä»£ç ç»„ç»‡æ–¹å¼çš„éœ€æ±‚å¢åŠ ï¼Œå¼€å‘è€…å¼€å§‹é€šè¿‡å®šä¹‰å…¨å±€å¯¹è±¡ï¼Œå°†æ‰€æœ‰å‡½æ•°å’Œå˜é‡å°è£…åœ¨è¿™ä¸ªå¯¹è±¡ä¸­ï¼Œä¹Ÿå°±æ˜¯å‘½åç©ºé—´æ¨¡å¼ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> myApp = &#123;<br>    <span class="hljs-attr">module1Data</span>: <span class="hljs-string">&#x27;module1 data&#x27;</span>,<br>    <span class="hljs-attr">module1Func</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">module1Data</span>);<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>

<p>è¿™ç§æ–¹å¼è§£å†³äº†å…¨å±€å‘½åå†²çªçš„é—®é¢˜ï¼Œä½†æ˜¯æ¨¡å—é—´çš„ä¾èµ–å…³ç³»ä¾æ—§ä¸æ˜æ˜¾ï¼ŒåŒæ—¶æ‰€æœ‰ä¾èµ–éƒ½éœ€è¦åœ¨å‘½åç©ºé—´å¯¹è±¡ä¸­æ‰‹åŠ¨ç®¡ç†ã€‚</p>
<h3 id="3-CommonJS"><a href="#3-CommonJS" class="headerlink" title="3.CommonJS"></a>3.CommonJS</h3><p>CommonJSæ¨¡å—è§„èŒƒæ˜¯Node.jsé‡‡ç”¨çš„è§„èŒƒï¼Œä½¿ç”¨<code>require</code>å‡½æ•°åŠ è½½æ¨¡å—ï¼Œé€šè¿‡<code>module.exports</code>å¯¼å‡ºæ¨¡å—ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// a.js</span><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = <span class="hljs-string">&#x27;Hello world&#x27;</span>;<br><br><span class="hljs-comment">// b.js</span><br><span class="hljs-keyword">var</span> a = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;./a&#x27;</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a); <span class="hljs-comment">// è¾“å‡º &#x27;Hello world&#x27;</span><br></code></pre></td></tr></table></figure>

<p>CommonJSä½¿ç”¨åŒæ­¥åŠ è½½æ–¹å¼ï¼Œé€‚ç”¨äºæœåŠ¡å™¨ç«¯ï¼Œä½†ç”±äºç½‘ç»œè¯·æ±‚çš„å¼‚æ­¥ç‰¹æ€§ï¼Œä¸é€‚åˆåœ¨æµè§ˆå™¨ç¯å¢ƒä½¿ç”¨ã€‚</p>
<h4 id="requireå‡½æ•°"><a href="#requireå‡½æ•°" class="headerlink" title="requireå‡½æ•°"></a><code>require</code>å‡½æ•°</h4><p><code>require</code>å‡½æ•°çš„ä¸»è¦ä»»åŠ¡æ˜¯æ ¹æ®æ¨¡å—çš„æ–‡ä»¶è·¯å¾„è¯»å–æ¨¡å—æ–‡ä»¶ï¼Œç„¶åæ‰§è¡Œæ¨¡å—ä»£ç ï¼Œæœ€åè¿”å›æ¨¡å—çš„<code>exports</code>å¯¹è±¡ã€‚</p>
<p><code>require</code>å‡½æ•°çš„å®ç°ä»£ç å¤§è‡´å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">require</span>(<span class="hljs-params">modulePath</span>)&#123;<br>    <span class="hljs-comment">// è¯»å–æ¨¡å—ä»£ç </span><br>    <span class="hljs-keyword">const</span> code = fs.<span class="hljs-title function_">readFileSync</span>(modulePath);<br>    <br>    <span class="hljs-comment">// åŒ…è£…æ¨¡å—ä»£ç </span><br>    <span class="hljs-keyword">const</span> wrapper = <span class="hljs-title class_">Function</span>(<span class="hljs-string">&#x27;exports&#x27;</span>, <span class="hljs-string">&#x27;require&#x27;</span>, <span class="hljs-string">&#x27;module&#x27;</span>, <span class="hljs-string">&#x27;__filename&#x27;</span>, <span class="hljs-string">&#x27;__dirname&#x27;</span>, <span class="hljs-string">`<span class="hljs-subst">$&#123;code&#125;</span>\n return module.exports;`</span>);<br>    <br>    <span class="hljs-keyword">const</span> <span class="hljs-built_in">exports</span> = &#123;&#125;;<br>    <span class="hljs-keyword">const</span> <span class="hljs-variable language_">module</span> = &#123; <span class="hljs-built_in">exports</span> &#125;;<br>    <br>    <span class="hljs-comment">// æ‰§è¡Œæ¨¡å—ä»£ç </span><br>    <span class="hljs-title function_">wrapper</span>(<span class="hljs-built_in">exports</span>, <span class="hljs-built_in">require</span>, <span class="hljs-variable language_">module</span>);<br>    <br>    <span class="hljs-comment">// è¿”å›æ¨¡å—çš„exportså¯¹è±¡</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>å…¶ä¸­ï¼Œ<code>wrapper</code>å‡½æ•°çš„å‚æ•°<code>exports</code>å’Œ<code>module</code>å°±æ˜¯æ¨¡å—çš„<code>exports</code>å’Œ<code>module</code>å¯¹è±¡ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨æ¨¡å—ä¸­é€šè¿‡<code>exports</code>å’Œ<code>module.exports</code>æ¥å¯¼å‡ºæ¨¡å—ã€‚</p>
<p><code>require</code>å‡½æ•°åœ¨æ‰§è¡Œæ¨¡å—ä»£ç æ—¶ï¼Œä¼šå…ˆå°†æ¨¡å—ä»£ç åŒ…è£…åˆ°ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œç„¶åè°ƒç”¨è¿™ä¸ªå‡½æ•°ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯å¯ä»¥å°†æ¨¡å—ä»£ç éš”ç¦»åˆ°ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­ï¼Œé˜²æ­¢æ¨¡å—å†…çš„å˜é‡æ±¡æŸ“å…¨å±€ä½œç”¨åŸŸã€‚</p>
<h4 id="module-exports"><a href="#module-exports" class="headerlink" title="module.exports"></a><code>module.exports</code></h4><p>æ¯ä¸ªCommonJSæ¨¡å—éƒ½æœ‰ä¸€ä¸ª<code>module</code>å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æœ‰ä¸€ä¸ª<code>exports</code>å±æ€§ç”¨äºå¯¼å‡ºæ¨¡å—ã€‚å½“å…¶ä»–æ¨¡å—é€šè¿‡<code>require</code>å‡½æ•°åŠ è½½è¿™ä¸ªæ¨¡å—æ—¶ï¼Œå°±å¯ä»¥è·å–åˆ°<code>module.exports</code>å¯¹è±¡ã€‚</p>
<p><code>module.exports</code>çš„åˆå§‹å€¼æ˜¯ä¸€ä¸ªç©ºå¯¹è±¡<code>&#123;&#125;</code>ï¼Œæˆ‘ä»¬å¯ä»¥æ·»åŠ å±æ€§åˆ°è¿™ä¸ªå¯¹è±¡ä¸Šï¼Œä¹Ÿå¯ä»¥ç›´æ¥å°†<code>module.exports</code>èµ‹å€¼ä¸ºä¸€ä¸ªå‡½æ•°æˆ–å…¶ä»–ç±»å‹çš„å€¼ã€‚</p>
<p>ä¾‹å¦‚ï¼Œä»¥ä¸‹ä»£ç å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨<code>module.exports</code>å¯¼å‡ºä¸€ä¸ªå‡½æ•°ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// a.js</span><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Hello world&#x27;</span>);<br>&#125;;<br><br><span class="hljs-comment">// b.js</span><br><span class="hljs-keyword">const</span> a = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;./a&#x27;</span>);<br><span class="hljs-title function_">a</span>(); <span class="hljs-comment">// è¾“å‡º &#x27;Hello world&#x27;</span><br></code></pre></td></tr></table></figure>

<p>ä»¥ä¸Šå°±æ˜¯CommonJSæ¨¡å—çš„å®ç°åŸç†ã€‚è™½ç„¶CommonJSä¸»è¦ç”¨äºæœåŠ¡å™¨ç«¯ï¼Œä½†å…¶æ¨¡å—åŒ–æ€æƒ³å’Œå®ç°æ–¹å¼å¯¹äºå‰ç«¯æ¨¡å—åŒ–çš„å‘å±•æœ‰ç€æ·±è¿œå½±å“ã€‚</p>
<h3 id="4-AMDï¼ˆAsynchronous-Module-Definitionï¼‰"><a href="#4-AMDï¼ˆAsynchronous-Module-Definitionï¼‰" class="headerlink" title="4.AMDï¼ˆAsynchronous Module Definitionï¼‰"></a>4.AMDï¼ˆAsynchronous Module Definitionï¼‰</h3><p>AMDè§„èŒƒæ˜¯ç”±RequireJSæå‡ºçš„ï¼Œç‰¹ç‚¹æ˜¯å¼‚æ­¥åŠ è½½æ¨¡å—ï¼Œé€‚åˆç”¨åœ¨æµè§ˆå™¨ç¯å¢ƒã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// AMD</span><br><span class="hljs-title function_">define</span>([<span class="hljs-string">&#x27;dependency&#x27;</span>], <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;module content&#x27;</span>;<br>&#125;);<br></code></pre></td></tr></table></figure>

<p>AMDè§„èŒƒçš„è¯­æ³•è¾ƒä¸ºå¤æ‚ï¼Œä½†èƒ½åœ¨æµè§ˆå™¨ç¯å¢ƒä¸­å¼‚æ­¥åŠ è½½æ¨¡å—ã€‚</p>
<h3 id="5-UMDï¼ˆUniversal-Module-Definitionï¼‰"><a href="#5-UMDï¼ˆUniversal-Module-Definitionï¼‰" class="headerlink" title="5.UMDï¼ˆUniversal Module Definitionï¼‰"></a>5.UMDï¼ˆUniversal Module Definitionï¼‰</h3><p>UMDè§„èŒƒè¯•å›¾æä¾›ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œè®©åŒä¸€æ®µä»£ç åœ¨CommonJSå’ŒAMDç¯å¢ƒä¸­éƒ½èƒ½è¿è¡Œã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript">(<span class="hljs-keyword">function</span> (<span class="hljs-params">root, factory</span>) &#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> define === <span class="hljs-string">&#x27;function&#x27;</span> &amp;&amp; define.<span class="hljs-property">amd</span>) &#123;<br>        <span class="hljs-comment">// AMD</span><br>       <br><br> <span class="hljs-title function_">define</span>([<span class="hljs-string">&#x27;jquery&#x27;</span>], factory);<br>    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">exports</span> === <span class="hljs-string">&#x27;object&#x27;</span>) &#123;<br>        <span class="hljs-comment">// Node, CommonJS</span><br>        <span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = <span class="hljs-title function_">factory</span>(<span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;jquery&#x27;</span>));<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-comment">// æµè§ˆå™¨å…¨å±€å˜é‡</span><br>        root.<span class="hljs-property">returnExports</span> = <span class="hljs-title function_">factory</span>(root.<span class="hljs-property">jQuery</span>);<br>    &#125;<br>&#125;(<span class="hljs-variable language_">this</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">$</span>) &#123;<br>    <span class="hljs-comment">// æ¨¡å—ä»£ç </span><br>&#125;));<br></code></pre></td></tr></table></figure>

<p>UMDé€šè¿‡åˆ¤æ–­ç¯å¢ƒä¸­æ˜¯å¦å­˜åœ¨<code>define</code>å’Œ<code>exports</code>å¯¹è±¡ï¼Œæ¥åˆ¤æ–­æ˜¯å“ªç§æ¨¡å—ç¯å¢ƒï¼Œä»è€Œä½¿ç”¨å¯¹åº”çš„æ¨¡å—åŒ–æ–¹æ¡ˆã€‚</p>
<h3 id="6-ES6æ¨¡å—åŒ–"><a href="#6-ES6æ¨¡å—åŒ–" class="headerlink" title="6.ES6æ¨¡å—åŒ–"></a>6.ES6æ¨¡å—åŒ–</h3><p>ES6æ¨¡å—åŒ–æ˜¯ECMAScript 6ï¼ˆES2015ï¼‰ä¸­æ–°å¼•å…¥çš„æ¨¡å—ç³»ç»Ÿï¼Œä½¿ç”¨<code>import</code>å…³é”®å­—åŠ è½½æ¨¡å—ï¼Œé€šè¿‡<code>export</code>å…³é”®å­—å¯¼å‡ºæ¨¡å—ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// a.js</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> a = <span class="hljs-string">&#x27;Hello world&#x27;</span>;<br><br><span class="hljs-comment">// b.js</span><br><span class="hljs-keyword">import</span> &#123; a &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./a.js&#x27;</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a); <span class="hljs-comment">// è¾“å‡º &#x27;Hello world&#x27;</span><br></code></pre></td></tr></table></figure>

<p>ES6æ¨¡å—åŒ–å…·æœ‰é™æ€æ€§ï¼Œè¿™ç§é™æ€æ€§è´¨è®©ä¾èµ–å…³ç³»æ›´åŠ æ˜æ˜¾ï¼Œæœ‰åˆ©äºå·¥å…·è¿›è¡Œä¼˜åŒ–ã€‚æ­¤å¤–ï¼ŒES6æ¨¡å—æ˜¯å¼‚æ­¥åŠ è½½ï¼Œä¹Ÿé€‚åˆåœ¨æµè§ˆå™¨ç¯å¢ƒä¸­ä½¿ç”¨ã€‚</p>
<h1 id="å‰ç«¯å·¥ç¨‹åŒ–"><a href="#å‰ç«¯å·¥ç¨‹åŒ–" class="headerlink" title="å‰ç«¯å·¥ç¨‹åŒ–"></a>å‰ç«¯å·¥ç¨‹åŒ–</h1><h1 id="webpackæ‰“åŒ…ä¼˜åŒ–"><a href="#webpackæ‰“åŒ…ä¼˜åŒ–" class="headerlink" title="webpackæ‰“åŒ…ä¼˜åŒ–"></a>webpackæ‰“åŒ…ä¼˜åŒ–</h1><h1 id="å°è£…"><a href="#å°è£…" class="headerlink" title="å°è£…"></a>å°è£…</h1><h1 id="CDNç¼“å­˜æœºåˆ¶å’ŒåŸç†"><a href="#CDNç¼“å­˜æœºåˆ¶å’ŒåŸç†" class="headerlink" title="CDNç¼“å­˜æœºåˆ¶å’ŒåŸç†"></a>CDNç¼“å­˜æœºåˆ¶å’ŒåŸç†</h1><h1 id="websocketåŸç†"><a href="#websocketåŸç†" class="headerlink" title="websocketåŸç†"></a>websocketåŸç†</h1><h1 id="ç™½å±æ—¶é—´åˆ†æ"><a href="#ç™½å±æ—¶é—´åˆ†æ" class="headerlink" title="ç™½å±æ—¶é—´åˆ†æ"></a>ç™½å±æ—¶é—´åˆ†æ</h1><h1 id="ç™»å½•åŠŸèƒ½"><a href="#ç™»å½•åŠŸèƒ½" class="headerlink" title="ç™»å½•åŠŸèƒ½"></a>ç™»å½•åŠŸèƒ½</h1><h1 id="å¤§æ–‡ä»¶ä¸Šä¼ "><a href="#å¤§æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="å¤§æ–‡ä»¶ä¸Šä¼ "></a>å¤§æ–‡ä»¶ä¸Šä¼ </h1><h1 id="Cookie-Session-SessionStorage-LocalStorage"><a href="#Cookie-Session-SessionStorage-LocalStorage" class="headerlink" title="Cookie, Session, SessionStorage, LocalStorage"></a>Cookie, Session, SessionStorage, LocalStorage</h1><h2 id="1-ä»€ä¹ˆæ˜¯Cookieï¼Ÿ"><a href="#1-ä»€ä¹ˆæ˜¯Cookieï¼Ÿ" class="headerlink" title="1. ä»€ä¹ˆæ˜¯Cookieï¼Ÿ"></a>1. ä»€ä¹ˆæ˜¯Cookieï¼Ÿ</h2><h3 id="å±æ€§"><a href="#å±æ€§" class="headerlink" title="å±æ€§"></a>å±æ€§</h3><p>Cookieæ˜¯ä¸€ç§åœ¨å®¢æˆ·ç«¯å­˜å‚¨æ•°æ®çš„æœºåˆ¶ï¼Œå®ƒå°†æ•°æ®ä»¥é”®å€¼å¯¹çš„å½¢å¼å­˜å‚¨åœ¨ç”¨æˆ·çš„æµè§ˆå™¨ä¸­ã€‚Cookieå…·æœ‰ä»¥ä¸‹å±æ€§ï¼š</p>
<ul>
<li><strong>åç§°å’Œå€¼</strong>ï¼šæ¯ä¸ªCookieéƒ½æœ‰ä¸€ä¸ªåç§°å’Œå¯¹åº”çš„å€¼ï¼Œä»¥é”®å€¼å¯¹çš„å½¢å¼è¡¨ç¤ºã€‚</li>
<li><strong>åŸŸï¼ˆDomainï¼‰</strong>ï¼šCookieçš„åŸŸå±æ€§æŒ‡å®šäº†å¯ä»¥è®¿é—®Cookieçš„åŸŸåã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒCookieçš„åŸŸå±æ€§è®¾ç½®ä¸ºåˆ›å»ºCookieçš„é¡µé¢çš„åŸŸåã€‚</li>
<li><strong>è·¯å¾„ï¼ˆPathï¼‰</strong>ï¼šCookieçš„è·¯å¾„å±æ€§æŒ‡å®šäº†å¯ä»¥è®¿é—®Cookieçš„è·¯å¾„ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒCookieçš„è·¯å¾„å±æ€§è®¾ç½®ä¸ºåˆ›å»ºCookieçš„é¡µé¢çš„è·¯å¾„ã€‚</li>
<li><strong>è¿‡æœŸæ—¶é—´ï¼ˆExpires&#x2F;Max-Ageï¼‰</strong>ï¼šCookieçš„è¿‡æœŸæ—¶é—´å±æ€§æŒ‡å®šäº†Cookieçš„æœ‰æ•ˆæœŸé™ã€‚å¯ä»¥é€šè¿‡è®¾ç½®<code>Expires</code>æˆ–<code>Max-Age</code>å±æ€§æ¥å®šä¹‰è¿‡æœŸæ—¶é—´ã€‚è¿‡æœŸæ—¶é—´å¯ä»¥æ˜¯ä¸€ä¸ªå…·ä½“çš„æ—¥æœŸå’Œæ—¶é—´ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªä»å½“å‰æ—¶é—´å¼€å§‹çš„æ—¶é—´æ®µã€‚</li>
<li><strong>å®‰å…¨æ ‡å¿—ï¼ˆSecureï¼‰</strong>ï¼šCookieçš„å®‰å…¨æ ‡å¿—å±æ€§æŒ‡å®šäº†æ˜¯å¦åªåœ¨é€šè¿‡HTTPSåè®®å‘é€è¯·æ±‚æ—¶æ‰å‘é€Cookieã€‚</li>
<li><strong>åŒç«™ç‚¹æ ‡å¿—ï¼ˆSameSiteï¼‰</strong>ï¼šCookieçš„åŒç«™ç‚¹æ ‡å¿—å±æ€§æŒ‡å®šäº†æ˜¯å¦é™åˆ¶Cookieåªèƒ½åœ¨åŒä¸€ç«™ç‚¹å‘é€ã€‚å¯ä»¥è®¾ç½®ä¸º<code>Strict</code>ï¼ˆä»…å…è®¸æ¥è‡ªå½“å‰ç«™ç‚¹çš„è¯·æ±‚æºå¸¦Cookieï¼‰æˆ–<code>Lax</code>ï¼ˆå…è®¸éƒ¨åˆ†è·¨ç«™ç‚¹è¯·æ±‚æºå¸¦Cookieï¼‰ã€‚</li>
</ul>
<h3 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h3><p>Cookieåœ¨Webå¼€å‘ä¸­æœ‰å¤šç§åº”ç”¨åœºæ™¯ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>ä¼šè¯ç®¡ç†</strong>ï¼šCookieå¸¸ç”¨äºå­˜å‚¨ä¼šè¯æ ‡è¯†ç¬¦ï¼Œä»¥ä¾¿åœ¨ç”¨æˆ·è®¿é—®ä¸åŒé¡µé¢æ—¶ä¿æŒä¼šè¯çŠ¶æ€ã€‚</li>
<li><strong>èº«ä»½éªŒè¯</strong>ï¼šCookieå¯ä»¥ç”¨äºå­˜å‚¨ç”¨æˆ·çš„èº«ä»½éªŒè¯å‡­è¯æˆ–ä»¤ç‰Œï¼Œä»¥ä¾¿åœ¨ç”¨æˆ·ä¸‹æ¬¡è®¿é—®æ—¶è‡ªåŠ¨ç™»å½•ã€‚</li>
<li><strong>ä¸ªæ€§åŒ–è®¾ç½®</strong>ï¼šCookieå¯ä»¥ç”¨äºå­˜å‚¨ç”¨æˆ·çš„ä¸ªæ€§åŒ–é¦–é€‰é¡¹ï¼Œä¾‹å¦‚è¯­è¨€åå¥½ã€ä¸»é¢˜è®¾ç½®ç­‰ã€‚</li>
<li><strong>è¿½è¸ªå’Œåˆ†æ</strong>ï¼šCookieå¯ä»¥</li>
</ul>
<p>ç”¨äºè¿½è¸ªç”¨æˆ·çš„è¡Œä¸ºå’Œè¿›è¡Œç½‘ç«™åˆ†æï¼Œä¾‹å¦‚è®°å½•ç”¨æˆ·è®¿é—®çš„é¡µé¢ã€ç‚¹å‡»çš„é“¾æ¥ç­‰ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// è®¾ç½®Cookie</span><br><span class="hljs-variable language_">document</span>.<span class="hljs-property">cookie</span> = <span class="hljs-string">&quot;username=John Doe; expires=Fri, 31 Dec 2023 23:59:59 GMT; path=/; secure; SameSite=Strict&quot;</span>;<br><br><span class="hljs-comment">// è¯»å–Cookie</span><br><span class="hljs-keyword">const</span> cookies = <span class="hljs-variable language_">document</span>.<span class="hljs-property">cookie</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;; &quot;</span>);<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; cookies.<span class="hljs-property">length</span>; i++) &#123;<br>  <span class="hljs-keyword">const</span> cookie = cookies[i].<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;=&quot;</span>);<br>  <span class="hljs-keyword">const</span> name = cookie[<span class="hljs-number">0</span>];<br>  <span class="hljs-keyword">const</span> value = cookie[<span class="hljs-number">1</span>];<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(name + <span class="hljs-string">&quot;: &quot;</span> + value);<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="2-ä»€ä¹ˆæ˜¯Sessionï¼Ÿ"><a href="#2-ä»€ä¹ˆæ˜¯Sessionï¼Ÿ" class="headerlink" title="2. ä»€ä¹ˆæ˜¯Sessionï¼Ÿ"></a>2. ä»€ä¹ˆæ˜¯Sessionï¼Ÿ</h2><h3 id="å±æ€§-1"><a href="#å±æ€§-1" class="headerlink" title="å±æ€§"></a>å±æ€§</h3><p>Sessionæ˜¯ä¸€ç§åœ¨æœåŠ¡å™¨ç«¯å­˜å‚¨å’Œè·Ÿè¸ªç”¨æˆ·ä¼šè¯çŠ¶æ€çš„æœºåˆ¶ã€‚Sessionå…·æœ‰ä»¥ä¸‹å±æ€§ï¼š</p>
<ul>
<li><strong>å­˜å‚¨ä½ç½®</strong>ï¼šSessionæ•°æ®å­˜å‚¨åœ¨æœåŠ¡å™¨ç«¯çš„å†…å­˜æˆ–æŒä¹…åŒ–ä»‹è´¨ä¸­ï¼Œè€Œä¸æ˜¯å­˜å‚¨åœ¨å®¢æˆ·ç«¯ã€‚</li>
<li><strong>ä¼šè¯ID</strong>ï¼šæ¯ä¸ªä¼šè¯éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„ä¼šè¯IDï¼Œç”¨äºæ ‡è¯†è¯¥ä¼šè¯ã€‚ä¼šè¯IDé€šå¸¸é€šè¿‡Cookieæˆ–URLå‚æ•°å‘é€ç»™å®¢æˆ·ç«¯ï¼Œå¹¶åœ¨åç»­è¯·æ±‚ä¸­ç”¨äºè¯†åˆ«ä¼šè¯ã€‚</li>
<li><strong>è¿‡æœŸæ—¶é—´</strong>ï¼šSessionå¯ä»¥è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œä»¥æ§åˆ¶ä¼šè¯çš„æœ‰æ•ˆæœŸã€‚è¿‡æœŸæ—¶é—´å¯ä»¥æ˜¯ä¸€ä¸ªå…·ä½“çš„æ—¥æœŸå’Œæ—¶é—´ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªä»ä¼šè¯åˆ›å»ºæ—¶å¼€å§‹çš„æ—¶é—´æ®µã€‚</li>
<li><strong>å®‰å…¨æ€§</strong>ï¼šSessionçš„ä¼šè¯IDéœ€è¦è¿›è¡Œä¿æŠ¤ï¼Œä»¥é˜²æ­¢ä¼šè¯åŠ«æŒå’Œå…¶ä»–å®‰å…¨é—®é¢˜ã€‚</li>
</ul>
<h3 id="åº”ç”¨åœºæ™¯-1"><a href="#åº”ç”¨åœºæ™¯-1" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h3><p>Sessionåœ¨Webå¼€å‘ä¸­æœ‰å¤šç§åº”ç”¨åœºæ™¯ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>ç”¨æˆ·èº«ä»½éªŒè¯</strong>ï¼šSessionç”¨äºå­˜å‚¨ç”¨æˆ·çš„èº«ä»½éªŒè¯çŠ¶æ€ï¼Œä»¥ä¾¿åœ¨ç”¨æˆ·è®¿é—®éœ€è¦éªŒè¯çš„èµ„æºæ—¶è¿›è¡ŒéªŒè¯ã€‚</li>
<li><strong>è´­ç‰©è½¦</strong>ï¼šSessionç”¨äºå­˜å‚¨ç”¨æˆ·çš„è´­ç‰©è½¦å†…å®¹ï¼Œä»¥ä¾¿åœ¨ç”¨æˆ·è¿›è¡Œç»“è´¦æˆ–ç»§ç»­è´­ç‰©æ—¶ä¿æŒè´­ç‰©è½¦çŠ¶æ€ã€‚</li>
<li><strong>ä¸ªæ€§åŒ–è®¾ç½®</strong>ï¼šSessionå¯ä»¥ç”¨äºå­˜å‚¨ç”¨æˆ·çš„ä¸ªæ€§åŒ–é¦–é€‰é¡¹ï¼Œä¾‹å¦‚è¯­è¨€åå¥½ã€ä¸»é¢˜è®¾ç½®ç­‰ã€‚</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;express&quot;</span>);<br><span class="hljs-keyword">const</span> session = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;express-session&quot;</span>);<br><br><span class="hljs-keyword">const</span> app = <span class="hljs-title function_">express</span>();<br><br>app.<span class="hljs-title function_">use</span>(<span class="hljs-title function_">session</span>(&#123;<br>  <span class="hljs-attr">secret</span>: <span class="hljs-string">&quot;mysecret&quot;</span>,<br>  <span class="hljs-attr">resave</span>: <span class="hljs-literal">false</span>,<br>  <span class="hljs-attr">saveUninitialized</span>: <span class="hljs-literal">true</span>,<br>  <span class="hljs-attr">cookie</span>: &#123; <span class="hljs-attr">secure</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">sameSite</span>: <span class="hljs-string">&quot;strict&quot;</span>, <span class="hljs-attr">httpOnly</span>: <span class="hljs-literal">true</span> &#125;<br>&#125;));<br><br>app.<span class="hljs-title function_">get</span>(<span class="hljs-string">&quot;/&quot;</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> &#123;<br>  req.<span class="hljs-property">session</span>.<span class="hljs-property">username</span> = <span class="hljs-string">&quot;John Doe&quot;</span>;<br>  res.<span class="hljs-title function_">send</span>(<span class="hljs-string">&quot;Session is set.&quot;</span>);<br>&#125;);<br><br>app.<span class="hljs-title function_">get</span>(<span class="hljs-string">&quot;/profile&quot;</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> &#123;<br>  <span class="hljs-keyword">const</span> username = req.<span class="hljs-property">session</span>.<span class="hljs-property">username</span>;<br>  res.<span class="hljs-title function_">send</span>(<span class="hljs-string">&quot;Welcome, &quot;</span> + username);<br>&#125;);<br><br>app.<span class="hljs-title function_">listen</span>(<span class="hljs-number">3000</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Server is running on port 3000&quot;</span>);<br>&#125;);<br></code></pre></td></tr></table></figure>

<h2 id="3-ä»€ä¹ˆæ˜¯SessionStorageï¼Ÿ"><a href="#3-ä»€ä¹ˆæ˜¯SessionStorageï¼Ÿ" class="headerlink" title="3. ä»€ä¹ˆæ˜¯SessionStorageï¼Ÿ"></a>3. ä»€ä¹ˆæ˜¯SessionStorageï¼Ÿ</h2><h3 id="å±æ€§-2"><a href="#å±æ€§-2" class="headerlink" title="å±æ€§"></a>å±æ€§</h3><p>SessionStorageæ˜¯ä¸€ç§åœ¨å®¢æˆ·ç«¯å­˜å‚¨ä¸´æ—¶æ•°æ®çš„æœºåˆ¶ã€‚SessionStorageå…·æœ‰ä»¥ä¸‹å±æ€§ï¼š</p>
<ul>
<li><strong>å­˜å‚¨ä½ç½®</strong>ï¼šSessionStorageæ•°æ®å­˜å‚¨åœ¨å®¢æˆ·ç«¯çš„å†…å­˜ä¸­ï¼Œä¸å½“å‰ä¼šè¯å…³è”ã€‚</li>
<li><strong>ä¼šè¯èŒƒå›´</strong>ï¼šSessionStorageæ•°æ®ä»…åœ¨æµè§ˆå™¨ä¼šè¯æœŸé—´ä¿ç•™ï¼Œå½“ç”¨æˆ·å…³é—­æ ‡ç­¾é¡µæˆ–æµè§ˆå™¨æ—¶æ•°æ®å°†è¢«æ¸…é™¤ã€‚</li>
<li><strong>åŸŸå’Œåè®®é™åˆ¶</strong>ï¼šSessionStorageæ•°æ®åªèƒ½åœ¨åŒä¸€åŸŸå’Œåè®®ä¸‹è®¿é—®ã€‚</li>
</ul>
<h3 id="åº”ç”¨åœºæ™¯-2"><a href="#åº”ç”¨åœºæ™¯-2" class="headerlink" title="#åº”ç”¨åœºæ™¯"></a><a target="_blank" rel="noopener" href="https://www.coding-time.cn/js/advance/%E8%AF%A6%E8%A7%A3%E5%89%8D%E7%AB%AF%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8.html#%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF-2">#</a>åº”ç”¨åœºæ™¯</h3><p>SessionStorageåœ¨Webå¼€å‘ä¸­æœ‰å¤šç§åº”ç”¨åœºæ™¯ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>ä¸´æ—¶æ•°æ®å­˜å‚¨</strong>ï¼šSessionStorageå¯ç”¨äºåœ¨é¡µé¢ä¹‹é—´ä¼ é€’ä¸´æ—¶æ•°æ®ï¼Œä¾‹å¦‚è¡¨å•æ•°æ®ã€ä¸´æ—¶çŠ¶æ€ç­‰ã€‚</li>
<li><strong>è¡¨å•æ•°æ®ä¿å­˜</strong>ï¼šSessionStorageå¯ç”¨äºä¿å­˜ç”¨æˆ·å¡«å†™çš„è¡¨å•æ•°æ®ï¼Œä»¥ä¾¿åœ¨åˆ·æ–°é¡µé¢æˆ–è¿”å›é¡µé¢æ—¶æ¢å¤æ•°æ®ï¼Œé˜²æ­¢æ•°æ®ä¸¢å¤±ã€‚</li>
<li><strong>å•é¡µåº”ç”¨çŠ¶æ€ç®¡ç†</strong>ï¼šåœ¨å•é¡µåº”ç”¨ä¸­ï¼Œå¯ä»¥ä½¿ç”¨SessionStorageæ¥å­˜å‚¨å’Œç®¡ç†åº”ç”¨çš„çŠ¶æ€ï¼Œä¾‹å¦‚å½“å‰é€‰ä¸­çš„æ ‡ç­¾ã€å±•å¼€&#x2F;æ”¶èµ·çš„é¢æ¿ç­‰ã€‚</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// è®¾ç½®SessionStorage</span><br>sessionStorage.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">&quot;username&quot;</span>, <span class="hljs-string">&quot;John Doe&quot;</span>);<br><br><span class="hljs-comment">// è¯»å–SessionStorage</span><br><span class="hljs-keyword">const</span> username = sessionStorage.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">&quot;username&quot;</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(username);<br></code></pre></td></tr></table></figure>

<h2 id="4-ä»€ä¹ˆæ˜¯LocalStorageï¼Ÿ"><a href="#4-ä»€ä¹ˆæ˜¯LocalStorageï¼Ÿ" class="headerlink" title="4. ä»€ä¹ˆæ˜¯LocalStorageï¼Ÿ"></a>4. ä»€ä¹ˆæ˜¯LocalStorageï¼Ÿ</h2><h3 id="å±æ€§-3"><a href="#å±æ€§-3" class="headerlink" title="å±æ€§"></a>å±æ€§</h3><p>LocalStorageæ˜¯ä¸€ç§åœ¨å®¢æˆ·ç«¯å­˜å‚¨æŒä¹…æ€§æ•°æ®çš„æœºåˆ¶ã€‚LocalStorageå…·æœ‰ä»¥ä¸‹å±æ€§ï¼š</p>
<ul>
<li><strong>å­˜å‚¨ä½ç½®</strong>ï¼šLocalStorageæ•°æ®å­˜å‚¨åœ¨å®¢æˆ·ç«¯çš„æŒä¹…åŒ–ä»‹è´¨ä¸­ï¼Œä¸æµè§ˆå™¨ç›¸å…³è”ã€‚</li>
<li><strong>æŒä¹…æ€§</strong>ï¼šLocalStorageæ•°æ®ä¸å—ä¼šè¯ç»“æŸæˆ–æµè§ˆå™¨å…³é—­çš„å½±å“ï¼Œä¼šä¸€ç›´ä¿ç•™åœ¨æµè§ˆå™¨ä¸­ï¼Œé™¤éè¢«æ˜¾å¼åˆ é™¤ã€‚</li>
<li><strong>åŸŸå’Œåè®®é™åˆ¶</strong>ï¼šLocalStorageæ•°æ®åªèƒ½åœ¨åŒä¸€åŸŸå’Œåè®®ä¸‹è®¿é—®ã€‚</li>
</ul>
<h3 id="åº”ç”¨åœºæ™¯-3"><a href="#åº”ç”¨åœºæ™¯-3" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h3><p>LocalStorageåœ¨Webå¼€å‘ä¸­æœ‰å¤šç§åº”ç”¨åœºæ™¯ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>æœ¬åœ°æ•°æ®å­˜å‚¨</strong>ï¼šLocalStorageå¯ç”¨äºåœ¨å®¢æˆ·ç«¯å­˜å‚¨æŒä¹…æ€§æ•°æ®ï¼Œå¦‚ç”¨æˆ·é¦–é€‰é¡¹ã€ç¼“å­˜çš„æ•°æ®ç­‰ã€‚</li>
<li><strong>ç¦»çº¿åº”ç”¨</strong>ï¼šLocalStorageå¯ç”¨äºå­˜å‚¨ç¦»çº¿åº”ç”¨æ‰€éœ€çš„èµ„æºï¼Œä¾‹å¦‚HTMLã€CSSå’ŒJavaScriptæ–‡ä»¶ï¼Œä»¥å®ç°ç¦»çº¿è®¿é—®èƒ½åŠ›ã€‚</li>
<li><strong>å•é¡µåº”ç”¨çŠ¶æ€ç®¡ç†</strong>ï¼šåœ¨å•é¡µåº”ç”¨ä¸­ï¼Œå¯ä»¥ä½¿ç”¨LocalStorageæ¥å­˜å‚¨å’Œç®¡ç†åº”ç”¨çš„çŠ¶æ€ï¼Œä¾‹å¦‚å½“å‰é€‰ä¸­çš„æ ‡ç­¾ã€å±•å¼€&#x2F;æ”¶èµ·çš„é¢æ¿ç­‰ã€‚</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// è®¾ç½®LocalStorage</span><br><span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">&quot;username&quot;</span>, <span class="hljs-string">&quot;John Doe&quot;</span>);<br><br><span class="hljs-comment">// è¯»å–LocalStorage</span><br><span class="hljs-keyword">const</span> username = <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">&quot;username&quot;</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(username);<br></code></pre></td></tr></table></figure>

<h2 id="5-Cookie-vs-Session-vs-SessionStorage-vs-LocalStorage"><a href="#5-Cookie-vs-Session-vs-SessionStorage-vs-LocalStorage" class="headerlink" title="5. Cookie vs. Session vs. SessionStorage vs. LocalStorage"></a>5. Cookie vs. Session vs. SessionStorage vs. LocalStorage</h2><table>
<thead>
<tr>
<th></th>
<th>å±æ€§</th>
<th>å­˜å‚¨ä½ç½®</th>
<th>ç”Ÿå‘½å‘¨æœŸ</th>
<th>å®‰å…¨æ€§</th>
<th>å¤§å°é™åˆ¶</th>
<th>è·¨åŸŸé™åˆ¶</th>
</tr>
</thead>
<tbody><tr>
<td>Cookie</td>
<td>é”®å€¼å¯¹</td>
<td>å®¢æˆ·ç«¯</td>
<td>å¯é…ç½®</td>
<td>å—åŒæºç­–ç•¥é™åˆ¶</td>
<td>çº¦4KB</td>
<td>æ˜¯</td>
</tr>
<tr>
<td>Session</td>
<td>ä¼šè¯IDå’ŒæœåŠ¡å™¨ç«¯å­˜å‚¨</td>
<td>æœåŠ¡å™¨ç«¯</td>
<td>å¯é…ç½®</td>
<td>è¾ƒé«˜ï¼ˆä¼šè¯IDä¿æŠ¤ï¼‰</td>
<td>æ— </td>
<td>å¦</td>
</tr>
<tr>
<td>SessionStorage</td>
<td>é”®å€¼å¯¹</td>
<td>å®¢æˆ·ç«¯</td>
<td>æµè§ˆå™¨ä¼šè¯æœŸé—´</td>
<td>åŒæº</td>
<td>çº¦5MB</td>
<td>å¦</td>
</tr>
<tr>
<td>LocalStorage</td>
<td>é”®å€¼å¯¹</td>
<td>å®¢æˆ·ç«¯</td>
<td>æ°¸ä¹…ï¼ˆéœ€æ˜¾å¼åˆ é™¤ï¼‰</td>
<td>åŒæº</td>
<td>çº¦5MB</td>
<td>å¦</td>
</tr>
</tbody></table>
<p>Cookieã€Sessionã€SessionStorageå’ŒLocalStorageéƒ½æ˜¯å¸¸è§çš„Webå­˜å‚¨è§£å†³æ–¹æ¡ˆï¼Œæ¯ç§æ–¹æ¡ˆéƒ½æœ‰å…¶é€‚ç”¨çš„åœºæ™¯å’Œç‰¹ç‚¹ã€‚</p>
<ul>
<li>ä½¿ç”¨Cookieå¯ä»¥åœ¨å®¢æˆ·ç«¯å­˜å‚¨æ•°æ®ï¼Œé€‚ç”¨äºå­˜å‚¨ä¼šè¯æ ‡è¯†ç¬¦ã€ç”¨æˆ·é¦–é€‰é¡¹å’Œè¿½è¸ªç”¨æˆ·è¡Œä¸ºç­‰åœºæ™¯ã€‚</li>
<li>Sessionç”¨äºåœ¨æœåŠ¡å™¨ç«¯å­˜å‚¨å’Œç®¡ç†ç”¨æˆ·çš„ä¼šè¯çŠ¶æ€ï¼Œé€‚ç”¨äºèº«ä»½éªŒè¯ã€è´­ç‰©è½¦å’Œä¸ªæ€§åŒ–è®¾ç½®ç­‰åœºæ™¯ã€‚</li>
<li>SessionStorageç”¨äºåœ¨æµè§ˆå™¨ä¼šè¯æœŸé—´å­˜å‚¨ä¸´æ—¶æ•°æ®ï¼Œé€‚ç”¨äºä¼ é€’æ•°æ®ã€ä¿å­˜è¡¨å•æ•°æ®å’Œå•é¡µåº”ç”¨çŠ¶æ€ç®¡ç†ç­‰åœºæ™¯ã€‚</li>
<li>LocalStorageç”¨äºåœ¨å®¢æˆ·ç«¯å­˜å‚¨æŒä¹…æ€§æ•°æ®ï¼Œé€‚ç”¨äºæœ¬åœ°æ•°æ®å­˜å‚¨ã€ç¦»çº¿åº”ç”¨å’Œå•é¡µåº”ç”¨çŠ¶æ€ç®¡ç†ç­‰åœºæ™¯ã€‚</li>
</ul>
<p>æ ¹æ®å…·ä½“çš„éœ€æ±‚å’Œåœºæ™¯ï¼Œé€‰æ‹©åˆé€‚çš„å­˜å‚¨æ–¹æ¡ˆå¯ä»¥æ›´å¥½åœ°ç®¡ç†å’Œä½¿ç”¨æ•°æ®ã€‚</p>
<h1 id="å‰ç«¯è·¨é¡µé¢é€šä¿¡"><a href="#å‰ç«¯è·¨é¡µé¢é€šä¿¡" class="headerlink" title="å‰ç«¯è·¨é¡µé¢é€šä¿¡"></a>å‰ç«¯è·¨é¡µé¢é€šä¿¡</h1><h3 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h3><p>Cookieæ˜¯ä¸€ç§åœ¨æµè§ˆå™¨ä¸­å­˜å‚¨æ•°æ®çš„æœºåˆ¶ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®Cookieçš„å€¼åœ¨ä¸åŒé¡µé¢ä¹‹é—´ä¼ é€’æ•°æ®ã€‚é€šè¿‡è®¾ç½®ç›¸åŒçš„Cookieåç§°å’Œå€¼ï¼Œä¸åŒçš„é¡µé¢å¯ä»¥è¯»å–å’Œä¿®æ”¹Cookieçš„å€¼ï¼Œå®ç°è·¨é¡µé¢æ•°æ®çš„ä¼ é€’å’Œå…±äº«ã€‚</p>
<p>ä½¿ç”¨Cookieè¿›è¡Œè·¨é¡µé¢é€šä¿¡çš„ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// åœ¨é¡µé¢ A ä¸­è®¾ç½® Cookie</span><br><span class="hljs-variable language_">document</span>.<span class="hljs-property">cookie</span> = <span class="hljs-string">&quot;data=example&quot;</span>;<br><br><span class="hljs-comment">// åœ¨é¡µé¢ B ä¸­è¯»å– Cookie</span><br><span class="hljs-keyword">const</span> cookies = <span class="hljs-variable language_">document</span>.<span class="hljs-property">cookie</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;; &quot;</span>);<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; cookies.<span class="hljs-property">length</span>; i++) &#123;<br>  <span class="hljs-keyword">const</span> [name, value] = cookies[i].<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;=&quot;</span>);<br>  <span class="hljs-keyword">if</span> (name === <span class="hljs-string">&quot;data&quot;</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value); <span class="hljs-comment">// è¾“å‡º &quot;example&quot;</span><br>    <span class="hljs-keyword">break</span>;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="LocalStorage-å’Œ-SessionStorage"><a href="#LocalStorage-å’Œ-SessionStorage" class="headerlink" title="LocalStorage å’Œ SessionStorage"></a>LocalStorage å’Œ SessionStorage</h3><p>LocalStorageå’ŒSessionStorageæ˜¯æµè§ˆå™¨æä¾›çš„æœ¬åœ°å­˜å‚¨æœºåˆ¶ï¼Œå¯ä»¥åœ¨ä¸åŒé¡µé¢ä¹‹é—´å­˜å‚¨å’Œè¯»å–æ•°æ®ã€‚å®ƒä»¬çš„åŒºåˆ«åœ¨äºæ•°æ®çš„ç”Ÿå‘½å‘¨æœŸï¼ŒLocalStorageä¸­çš„æ•°æ®åœ¨æµè§ˆå™¨å…³é—­åä»ç„¶ä¿ç•™ï¼Œè€ŒSessionStorageä¸­çš„æ•°æ®åœ¨ä¼šè¯ç»“æŸåè¢«æ¸…é™¤ã€‚</p>
<p>ä½¿ç”¨LocalStorageè¿›è¡Œè·¨é¡µé¢é€šä¿¡çš„ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// åœ¨é¡µé¢ A ä¸­å­˜å‚¨æ•°æ®åˆ° LocalStorage</span><br><span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">&quot;data&quot;</span>, <span class="hljs-string">&quot;example&quot;</span>);<br><br><span class="hljs-comment">// åœ¨é¡µé¢ B ä¸­è¯»å– LocalStorage çš„æ•°æ®</span><br><span class="hljs-keyword">const</span> data = <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">&quot;data&quot;</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data); <span class="hljs-comment">// è¾“å‡º &quot;example&quot;</span><br></code></pre></td></tr></table></figure>

<h3 id="Broadcast-Channel"><a href="#Broadcast-Channel" class="headerlink" title="Broadcast Channel"></a>Broadcast Channel</h3><p>Broadcast Channelæ˜¯æµè§ˆå™¨æä¾›çš„APIï¼Œç”¨äºåœ¨ä¸åŒé¡µé¢ä¹‹é—´è¿›è¡Œæ¶ˆæ¯å¹¿æ’­å’Œæ¥æ”¶ã€‚é€šè¿‡Broadcast Channelï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªé¢‘é“ï¼Œå¹¶åœ¨ä¸åŒçš„é¡µé¢ä¹‹é—´å‘é€å’Œæ¥æ”¶æ¶ˆæ¯ã€‚</p>
<p>ä½¿ç”¨Broadcast Channelè¿›è¡Œè·¨é¡µé¢é€šä¿¡çš„ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// åœ¨é¡µé¢ A ä¸­åˆ›å»º Broadcast Channel</span><br><span class="hljs-keyword">const</span> channel = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BroadcastChannel</span>(<span class="hljs-string">&quot;myChannel&quot;</span>);<br><br><span class="hljs-comment">// åœ¨é¡µé¢ B ä¸­ç›‘å¬æ¶ˆæ¯</span><br>channel.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;message&quot;</span>, <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(event.<span class="hljs-property">data</span>); <span class="hljs-comment">// è¾“å‡ºæ¥æ”¶åˆ°çš„æ¶ˆæ¯</span><br>&#125;);<br><br><span class="hljs-comment">// åœ¨é¡µé¢ A ä¸­å‘é€æ¶ˆæ¯</span><br>channel.<span class="hljs-title function_">postMessage</span>(<span class="hljs-string">&quot;Hello from Page A&quot;</span>);<br></code></pre></td></tr></table></figure>

<h3 id="Window-postMessage"><a href="#Window-postMessage" class="headerlink" title="Window.postMessage"></a>Window.postMessage</h3><p>Window.postMessageæ˜¯æµè§ˆå™¨æä¾›çš„APIï¼Œç”¨äºåœ¨ä¸åŒçª—å£æˆ–æ¡†æ¶ä¹‹é—´è¿›è¡Œå®‰å…¨çš„è·¨é¡µé¢é€šä¿¡ã€‚é€šè¿‡Window.postMessageï¼Œæˆ‘ä»¬å¯ä»¥å‘å…¶ä»–çª—å£å‘é€æ¶ˆæ¯ï¼Œå¹¶æ¥æ”¶å…¶ä»–çª—å£å‘é€çš„æ¶ˆæ¯ã€‚</p>
<p>ä½¿ç”¨Window.postMessageè¿›è¡Œè·¨é¡µé¢é€šä¿¡çš„ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// åœ¨é¡µé¢ A ä¸­å‘é€æ¶ˆæ¯ç»™é¡µé¢ B</span><br><span class="hljs-variable language_">window</span>.<span class="hljs-property">opener</span>.<span class="hljs-title function_">postMessage</span>(<span class="hljs-string">&quot;Hello from Page A&quot;</span>, <span class="hljs-string">&quot;https://www.example.com&quot;</span>);<br><br><span class="hljs-comment">// åœ¨é¡µé¢ B ä¸­ç›‘å¬æ¶ˆæ¯</span><br><span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;message&quot;</span>, <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> &#123;<br>  <span class="hljs-keyword">if</span> (event.<span class="hljs-property">origin</span> === <span class="hljs-string">&quot;https://www.example.com&quot;</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(event.<span class="hljs-property">data</span>); <span class="hljs-comment">// è¾“å‡ºæ¥æ”¶åˆ°çš„æ¶ˆæ¯</span><br>  &#125;<br>&#125;);<br></code></pre></td></tr></table></figure>
                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E6%8A%80%E6%9C%AF/" class="category-chain-item">æŠ€æœ¯</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/%E5%89%8D%E7%AB%AF/">#å‰ç«¯</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>å‰ç«¯å­¦ä¹ </div>
      <div>https://xiehongchen.github.io/2024/02/20/å‰ç«¯å­¦ä¹ /</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>ä½œè€…</div>
          <div>XieHongchen</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>å‘å¸ƒäº</div>
          <div>2024å¹´2æœˆ20æ—¥</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>è®¸å¯åè®®</div>
          <div>
            
              
              
                <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - ç½²å">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2024/02/20/js%E5%AD%A6%E4%B9%A0/" title="jså­¦ä¹ ">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">jså­¦ä¹ </span>
                        <span class="visible-mobile">ä¸Šä¸€ç¯‡</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2024/02/20/%E6%B5%8F%E8%A7%88%E5%99%A8/" title="æµè§ˆå™¨">
                        <span class="hidden-mobile">æµè§ˆå™¨</span>
                        <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">å…³é”®è¯</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





<!-- ä¸»é¢˜çš„å¯åŠ¨é¡¹ï¼Œå°†å®ƒä¿æŒåœ¨æœ€åº•éƒ¨ -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">åšå®¢åœ¨å…è®¸ JavaScript è¿è¡Œçš„ç¯å¢ƒä¸‹æµè§ˆæ•ˆæœæ›´ä½³</div>
  </noscript>
</body>
</html>
